{"version":3,"sources":["webpack:///webpack/bootstrap 8a047f0de987a21a0266","webpack:///./init.js","webpack:///./ui.js","webpack:///./settings.js","webpack:///./connect.js","webpack:///./data.js","webpack:///./websocket.js","webpack:///./ui_messages.js","webpack:///./templates.js","webpack:///./objects.js","webpack:///./util.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,mDAAkD;AAClD;AACA,IAAG;;AAEH;AACA;AACA,oDAAmD;AACnD;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;AC3DA;AACA;AACA;AACA,uCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,iBAAgB;AAChB,6BAA4B,mBAAmB,gCAAgC,GAAG;;AAElF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;AC3VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,mBAAkB;AAClB,wBAAuB;AACvB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,sCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;ACxEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;ACpQA;AACA;AACA,2BAA0B,mBAAmB,gCAAgC,GAAG,EAAE;AAClF,qCAAoC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC5R,eAAc;;AAEd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA,EAAC;;AAED;AACA;AACA;;AAEA;;;;;;;ACvEA;AACA;AACA;AACA,wFAAuF,eAAe,UAAU,WAAW,6BAA6B;AACxJ;AACA;AACA;AACA;;AAEA;;;;;;;ACTA;AACA;AACA;AACA,uCAAsC,0BAA0B,yDAAyD,EAAE,kBAAkB,0BAA0B,EAAE,mCAAmC,8BAA8B,oCAAoC,cAAc,EAAE;AAC9R,iBAAgB;AAChB,6BAA4B,mBAAmB,gCAAgC,GAAG;;AAElF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,UAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO,6BAA6B;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,UAAS;AACT,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,IAAG;;AAEH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED;;;;;;;ACtRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;AAED","file":"metabook.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8a047f0de987a21a0266\n **/","// Generated by CoffeeScript 1.10.0\n(function() {\n  var error_graph, init_graph;\n\n  $(document).ready(function() {\n    var global_gui, imports, message, notebook, session, uivent;\n    imports = {\n      ui: require(\"./ui\"),\n      connect: require(\"./connect\"),\n      data: require(\"./data\"),\n      messages: require(\"./ui_messages\"),\n      settings: require(\"./settings\")\n    };\n    _.extend(imports, require(\"./objects\"));\n    message = new imports.messages.SessionDisconnectedMessage({\n      el: imports.settings.id.globalmessages\n    });\n    uivent = new imports.ui.Vent();\n    uivent.register({\n      'ui': imports.ui\n    });\n    global_gui = new imports.ui.GlobalGUI();\n    session = new imports.connect.Session(config.sessions_endpoint);\n    notebook = new imports.models.MetabookModel({});\n    return notebook.connect(session.connect_file(config.file.path));\n  });\n\n  init_graph = function(json_graph) {\n    var menuview, notebook, paper;\n    notebook = new metabook.models.MetabookModel({}, {\n      json_graph: json_graph\n    });\n    paper = init_jointjs(notebook);\n    $(\"#bottom_sidebar\").sidebar({\n      context: $('#id2')\n    });\n    $(\"#bottom_sidebar\").sidebar('setting', 'transition', 'overlay');\n    $(\"#bottom_sidebar\").sidebar('setting', 'dimPage', false);\n    $(\"#bottom_sidebar\").sidebar('attach events', '#uiMenuToggle');\n    $(\"#bottom_sidebar\").sidebar('setting', 'closable', false);\n    uivent.register({\n      'session': notebook.session,\n      'model': notebook,\n      'graph': paper.model\n    });\n    jointjs_attach_events(paper, paper.model);\n    return menuview = new metabook.views.MenuView({\n      el: $(\"#metabook_top_menu\"),\n      model: notebook\n    });\n  };\n\n  error_graph = function(e) {\n    $(\"#id2\").dimmer('hide');\n    return alert(\"Connection error. Check if your backend is running.\");\n  };\n\n}).call(this);\n\n//# sourceMappingURL=init.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./init.js\n ** module id = 0\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\n(function() {\n  var ContextMenu, ContextMenuView, GlobalGUI, Settings, Vent, bind_context_menus, custom_events, settings,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  Settings = require(\"./settings\");\n\n  settings = {\n    active_menu_class: \"context-menu--active\",\n    selector: \"#context-menu\",\n    context_bindings: {\n      \".element\": \"#context-menu\",\n      \"svg\": \"#context-menu2\"\n    },\n    templates: {\n      node: \"<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:node:properties\\\"><i class=\\\"fa fa-tasks\\\"></i> Properties <div class=\\\"ui small inverted label\\\">Ctrl+Enter</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"session:run\\\"><i class=\\\"fa fa-play\\\"></i> Run Node <div class=\\\"ui small inverted label\\\">Ctrl+E</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:node:update\\\"><i class=\\\"fa fa-exchange\\\"></i> Sync to Server <div class=\\\"ui small inverted label\\\">Ctrl+D</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:node:expand\\\"><i class=\\\"fa fa-expand\\\"></i> Expand & Edit <div class=\\\"ui small inverted label\\\">Ctrl+D</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:node:duplicate\\\"><i class=\\\"fa fa-copy\\\"></i> Duplicate <div class=\\\"ui small inverted label\\\">Ctrl+D</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:node:similar\\\"><i class=\\\"fa fa-plus\\\"></i> Select Similar <div class=\\\"ui small inverted label\\\">Ctrl+D</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:node:delete\\\"><i class=\\\"fa fa-times\\\"></i> Delete <div class=\\\"ui small inverted label\\\">Ctrl+D</div></a>\",\n      blank: \"<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:newnode\\\"><i class=\\\"fa fa-eye\\\"></i> New node <div class=\\\"ui small inverted label\\\">Ctrl+D</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"model:solve\\\"><i class=\\\"fa fa-edit\\\"></i> Run <div class=\\\"ui small inverted label\\\">Ctrl+E</div></a>\\n<a href=\\\"#\\\" class=\\\"item\\\" data-action=\\\"graph:node:delete\\\"><i class=\\\"fa fa-times\\\"></i> Delete <div class=\\\"ui small inverted label\\\">Ctrl+D</div></a>\"\n    }\n  };\n\n  bind_context_menus = function() {\n    var menu_id, ref, results, selector;\n    ref = settings.context_bindings;\n    results = [];\n    for (selector in ref) {\n      menu_id = ref[selector];\n      results.push(this.context_listener.apply(this, [selector, menu_id]));\n    }\n    return results;\n  };\n\n  custom_events = {\n    'add': function(cell) {\n      return cell.$box.on('contextmenu', _.partialRight(function(e, cell) {\n        var menu;\n        e.preventDefault();\n        return menu = new ContextMenuView(cell.model, {\n          cell: cell,\n          event: e,\n          \"class\": settings.active_menu_class,\n          selector: settings.selector,\n          template: settings.templates.node\n        });\n      }, cell));\n    },\n    'blankmenu': function(paper, e) {\n      var menu;\n      e.preventDefault();\n      return menu = new ContextMenuView(paper.model, {\n        event: e,\n        \"class\": settings.active_menu_class,\n        selector: settings.selector,\n        template: settings.templates.blank\n      });\n    }\n  };\n\n  GlobalGUI = (function(superClass) {\n    extend(GlobalGUI, superClass);\n\n    function GlobalGUI() {\n      return GlobalGUI.__super__.constructor.apply(this, arguments);\n    }\n\n    GlobalGUI.prototype.initialize = function() {\n      this.listenTo(Backbone, 'metabook:notready', this.dim);\n      return this.listenTo(Backbone, 'message:file:connected', this.undim);\n    };\n\n    GlobalGUI.prototype.dim = function() {\n      return $(\"#id2\").dimmer({\n        closable: false\n      }).dimmer('show');\n    };\n\n    GlobalGUI.prototype.undim = function() {\n      return $(\"#id2\").dimmer('hide');\n    };\n\n    return GlobalGUI;\n\n  })(Backbone.View);\n\n  ContextMenuView = (function(superClass) {\n    extend(ContextMenuView, superClass);\n\n    function ContextMenuView() {\n      this.getPosition = bind(this.getPosition, this);\n      this.position_active_menu = bind(this.position_active_menu, this);\n      this.hide = bind(this.hide, this);\n      return ContextMenuView.__super__.constructor.apply(this, arguments);\n    }\n\n    ContextMenuView.prototype.initialize = function(model, settings) {\n      this.active_menu_class = settings[\"class\"];\n      this.template = settings.template;\n      this.el = $(settings.selector);\n      this.event = settings.event;\n      this.model = model;\n      this.cell = settings.cell;\n      Backbone.View.prototype.initialize.apply(this, arguments);\n      return this.render();\n    };\n\n    ContextMenuView.prototype.render = function() {\n      this.el.html(this.template);\n      this.el.addClass(this.active_menu_class);\n      this.position_active_menu(this.event);\n      document.addEventListener(\"click\", this.hide);\n      $(Settings.id.paper).on('mousewheel', this.hide);\n      window.onresize = this.hide;\n      window.onkeyup = (function(_this) {\n        return function(e) {\n          if (e.keyCode === 27) {\n            return _this.hide();\n          }\n        };\n      })(this);\n      return this.el.on(\"click [data-action]\", (function(_this) {\n        return function(ev) {\n          var custom_event;\n          _this.el.off('click [data-action]');\n          custom_event = ev.target.dataset.action;\n          Vent.vent(custom_event, _this.model, ev);\n          console.log(custom_event + \" element event triggered\");\n          return _this.hide();\n        };\n      })(this));\n    };\n\n    ContextMenuView.prototype.hide = function() {\n      this.el.removeClass(this.active_menu_class);\n      this.remove();\n      return this.unbind();\n    };\n\n    ContextMenuView.prototype.position_active_menu = function(e) {\n      var menuHeight, menuWidth, ref, windowHeight, windowWidth, x, y;\n      ref = this.getPosition(e), x = ref.x, y = ref.y;\n      menuWidth = this.el.offsetWidth + 4;\n      menuHeight = this.el.offsetHeight + 4;\n      windowWidth = window.innerWidth;\n      windowHeight = window.innerHeight;\n      if (windowWidth - x < menuWidth) {\n        this.el.css('left', windowWidth - menuWidth + 'px');\n      } else {\n        this.el.css('left', x + 'px');\n      }\n      if (windowHeight - y < menuHeight) {\n        this.el.css('top', windowHeight - menuHeight + 'px');\n      } else {\n        this.el.css('top', y + 'px');\n      }\n    };\n\n    ContextMenuView.prototype.getPosition = function(e) {\n      var posx, posy;\n      posx = 0;\n      posy = 0;\n      if (e == null) {\n        e = window.event;\n      }\n      if (e.pageX) {\n        posx = e.pageX;\n        posy = e.pageY;\n      } else {\n        posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n        posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n      }\n      return {\n        x: posx,\n        y: posy - 12\n      };\n    };\n\n    return ContextMenuView;\n\n  })(Backbone.View);\n\n  ContextMenu = {\n\n    /*\n    Usage:\n    selector is the element to bind menu to\n    menu_id is the id of menu div that is being bound to selector\n    settings.context_menu = { str selector: str menu_id, ... }\n     */\n    active_menu_class: \"context-menu--active\",\n    active_menu: void 0,\n    init: function(settings) {\n      var context, menu_id, selector;\n      this.active_menu_class = settings.active_menu_class || this.active_menu_class;\n      context = settings.context_menu;\n      this.active_menu = void 0;\n      for (selector in context) {\n        menu_id = context[selector];\n        this.context_listener.apply(this, [selector, menu_id]);\n      }\n      this.clickListener();\n      this.keyupListener();\n      this.resizeListener();\n      this.scrollListener();\n    },\n    context_listener: function(selector, menu_id) {\n      $(selector).on('contextmenu', function(e) {\n        e.preventDefault();\n        if (ContextMenu.active_menu) {\n          ContextMenu.active_menu_off();\n        }\n        ContextMenu.menu_on(menu_id);\n        ContextMenu.position_active_menu(e);\n        return e.stopPropagation();\n      });\n    },\n    active_menu_off: function() {\n      if (ContextMenu.active_menu) {\n        ContextMenu.active_menu.classList.remove(ContextMenu.active_menu_class);\n        ContextMenu.active_menu = void 0;\n      }\n    },\n    menu_on: function(menu_id) {\n      ContextMenu.active_menu = document.querySelector(menu_id);\n      ContextMenu.active_menu.classList.add(ContextMenu.active_menu_class);\n    },\n    position_active_menu: function(e) {\n      var menuHeight, menuWidth, ref, windowHeight, windowWidth, x, y;\n      ref = ContextMenu.getPosition(e), x = ref.x, y = ref.y;\n      menuWidth = ContextMenu.active_menu.offsetWidth + 4;\n      menuHeight = ContextMenu.active_menu.offsetHeight + 4;\n      windowWidth = window.innerWidth;\n      windowHeight = window.innerHeight;\n      if (windowWidth - x < menuWidth) {\n        ContextMenu.active_menu.style.left = windowWidth - menuWidth + 'px';\n      } else {\n        ContextMenu.active_menu.style.left = x + 'px';\n      }\n      if (windowHeight - y < menuHeight) {\n        ContextMenu.active_menu.style.top = windowHeight - menuHeight + 'px';\n      } else {\n        ContextMenu.active_menu.style.top = y + 'px';\n      }\n    },\n    getPosition: function(e) {\n      var posx, posy;\n      posx = 0;\n      posy = 0;\n      if (e == null) {\n        e = window.event;\n      }\n      if (e.pageX) {\n        posx = e.pageX;\n        posy = e.pageY;\n      } else {\n        posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n        posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n      }\n      return {\n        x: posx,\n        y: posy - 12\n      };\n    },\n    clickListener: function() {\n      return document.addEventListener(\"click\", function(e) {\n        ContextMenu.active_menu_off();\n      });\n    },\n    keyupListener: function() {\n      window.onkeyup = function(e) {\n        if (e.keyCode === 27) {\n          ContextMenu.active_menu_off();\n        }\n      };\n    },\n    resizeListener: function() {\n      window.onresize = function(e) {\n        ContextMenu.active_menu_off();\n      };\n    },\n    scrollListener: function() {\n      $('#myholder').on('mousewheel', function(e) {\n        ContextMenu.active_menu_off();\n      });\n    }\n  };\n\n  Vent = (function() {\n    function Vent() {\n      _.extend(this, Backbone.Events);\n    }\n\n    Vent.prototype.register = function(handlers) {\n      var event_handler, eventclass, eventname, handler, results;\n      results = [];\n      for (eventclass in handlers) {\n        handler = handlers[eventclass];\n        results.push((function() {\n          var ref, results1;\n          ref = handler['custom_events'];\n          results1 = [];\n          for (eventname in ref) {\n            event_handler = ref[eventname];\n            results1.push(this.listenTo(Backbone, eventclass + \":\" + eventname, _.bind(event_handler, handler)));\n          }\n          return results1;\n        }).call(this));\n      }\n      return results;\n    };\n\n    Vent.vent = function(custom_event) {\n      var args, primary, secondary, tokens;\n      tokens = custom_event.split(':');\n      primary = tokens.slice(0, 2).join(':');\n      secondary = tokens.slice(2).join(':');\n      args = [].slice.call(arguments, 1);\n      if (secondary !== \"\") {\n        args.unshift(secondary);\n      }\n      args.unshift(primary);\n      return Backbone.trigger.apply(Backbone, args);\n    };\n\n    Vent.passover = function() {\n      var args, event_name, obj;\n      args = [].slice.call(arguments, 2);\n      event_name = arguments[0];\n      obj = arguments[1];\n      return obj.custom_events[event_name].apply(obj, args);\n    };\n\n    return Vent;\n\n  })();\n\n  module.exports = {\n    bind_context_menus: bind_context_menus,\n    custom_events: custom_events,\n    ContextMenuView: ContextMenuView,\n    ContextMenu: ContextMenu,\n    Vent: Vent,\n    GlobalGUI: GlobalGUI\n  };\n\n}).call(this);\n\n//# sourceMappingURL=ui.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ui.js\n ** module id = 1\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\n(function() {\n  module.exports = {\n    id: {\n      messages: \"#messages\",\n      coords: \"#coords\",\n      graph_container: \"#paper_holder\",\n      paper: \"#myholder\",\n      svg: \"#v-2\",\n      globalmessages: \"#globalmessages\"\n    }\n  };\n\n}).call(this);\n\n//# sourceMappingURL=settings.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./settings.js\n ** module id = 2\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\n(function() {\n  var Message, Session, imports;\n\n  imports = {\n    data: require(\"./data\"),\n    websocket: require(\"./websocket\")\n  };\n\n  Session = (function() {\n    function Session(url) {\n      _.extend(this, Backbone.Events);\n      this.id = joint.util.uuid();\n      this.promise = new Promise((function(_this) {\n        return function(resolve, reject) {\n          _this.ws = new imports.websocket(\"ws://\" + url + _this.id, null, {\n            debug: true,\n            reconnectInterval: 1000,\n            maxReconnectInterval: 30000,\n            reconnectDecay: 1.5\n          });\n          _this.ws.onopen = _.partial(_this.onopen, resolve);\n          _this.ws.onmessage = _this.onmessage;\n          return _this.ws.onclose = _.partial(_this.onclose, reject);\n        };\n      })(this));\n    }\n\n    Session.prototype.onopen = function(resolve, evt) {\n      console.log('<connect.js connection:open>');\n      Backbone.trigger(\"connection:open\", this);\n      return resolve();\n    };\n\n    Session.prototype.connect_file = function(path) {\n      return this.promise.then((function(_this) {\n        return function() {\n          return _this.file = new Promise(function(resolve, reject) {\n            var msg;\n            msg = _this.new_message({\n              type: 'message:file:connect',\n              content: {\n                path: path,\n                query: config.file.query\n              }\n            });\n            _this.ws.send(msg.serialize());\n            _this.listenTo(Backbone, 'message:file:connected', resolve);\n            _this.listenTo(Backbone, 'message:file:error', reject);\n            return _this.file;\n          });\n        };\n      })(this));\n    };\n\n    Session.prototype.new_message = function(arg) {\n      var content, type;\n      type = arg.type, content = arg.content;\n      return Message[\"new\"]({\n        session: this.id,\n        msg_type: type,\n        content: content\n      });\n    };\n\n    Session.prototype.run_cell = function(node_model, event) {\n      var cells, ids, links, msg;\n      cells = importsimports.data.get_cells(node_model.graph.metabook);\n      links = importsimports.data.get_links(node_model.graph.metabook);\n      ids = [node_model.id];\n      msg = new Message({\n        session: this.id,\n        msg_type: \"update\",\n        content: {\n          cells: cells,\n          links: links,\n          ids: ids\n        }\n      });\n      return this.ws.send(msg.serialize());\n    };\n\n    Session.prototype.solve_all = function(metabook_model, event) {\n      var cells, ids, links, msg;\n      cells = imports.data.get_cells(metabook_model);\n      links = imports.data.get_links(metabook_model);\n      ids = imports.data.get_ids(cells);\n      msg = new Message({\n        session: this.id,\n        msg_type: \"solve\",\n        content: {\n          cells: cells,\n          links: links,\n          ids: ids\n        }\n      });\n      this.ws.send(msg.serialize());\n      return console.log(\"solve_all: \" + this.id);\n    };\n\n    Session.prototype.onmessage = function(evt) {\n      var message;\n      message = new Message(JSON.parse(evt.data));\n      return Backbone.trigger(message.header.msg_type, message);\n    };\n\n    Session.prototype.onclose = function(promise, evt) {\n      console.log(\"<connect.js session closed>\");\n      return Backbone.trigger('connection:closed', this);\n    };\n\n    Session.prototype.custom_events = {\n      'run': Session.prototype.run_cell\n    };\n\n    return Session;\n\n  })();\n\n  Message = (function() {\n    function Message(arg) {\n      this.header = arg.header, this.parent_header = arg.parent_header, this.metadata = arg.metadata, this.content = arg.content;\n    }\n\n    Message[\"new\"] = function(arg) {\n      var content, header, metadata, msg_type, parent_header, session;\n      session = arg.session, msg_type = arg.msg_type, header = arg.header, parent_header = arg.parent_header, metadata = arg.metadata, content = arg.content;\n      if (header == null) {\n        header = this.defaults.header();\n      }\n      header.session = session;\n      header.msg_type = msg_type;\n      if (metadata == null) {\n        metadata = this.defaults.metadata;\n      }\n      if (parent_header == null) {\n        parent_header = this.defaults.parent_header;\n      }\n      if (content == null) {\n        content = this.defaults.content;\n      }\n      return new Message({\n        header: header,\n        parent_header: parent_header,\n        metadata: metadata,\n        content: content\n      });\n    };\n\n    Message.defaults = {\n      header: function() {\n        return {\n          msg_id: joint.util.uuid(),\n          username: \"default\",\n          session: \"\",\n          date: \"\",\n          msg_type: \"default\",\n          version: '1'\n        };\n      },\n      metadata: {},\n      parent_header: {},\n      content: {}\n    };\n\n    Message.prototype.serialize = function() {\n      return JSON.stringify(this);\n    };\n\n    return Message;\n\n  })();\n\n  module.exports = {\n    Session: Session,\n    Message: Message\n  };\n\n}).call(this);\n\n//# sourceMappingURL=connect.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./connect.js\n ** module id = 3\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\n(function() {\n  module.exports = {\n    get_template: function(success, error) {\n      return $.ajax({\n        url: config.template_endpoint + config.file.path,\n        type: 'GET',\n        success: success,\n        error: error\n      });\n    },\n    get_file: function(success, error) {\n      return $.ajax({\n        url: config.file.endpoint + config.file.path,\n        type: 'GET',\n        success: success,\n        error: error\n      });\n    },\n    get_ajax_data: function(data_uri, success, error) {\n      return $.ajax({\n        url: data_uri,\n        type: 'GET',\n        success: success,\n        error: error\n      });\n    },\n    get_xhr: function(data_uri) {\n      return $.ajax({\n        url: data_uri,\n        type: 'GET'\n      });\n    },\n    is_good_form: function(json_data) {\n      if (typeof json_data === 'object') {\n        if ('metadata' in json_data) {\n          if ('metabook' in json_data.metadata) {\n            if ('links' in json_data.metadata.metabook) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    },\n    is_native: function(file_json) {\n      if ('metadata' in file_json) {\n        if (file_json.metadata.format === \"native\") {\n          return true;\n        }\n      }\n      return false;\n    },\n    get_cells: function(metabook_model) {\n      return metabook_model.get('cells').models;\n    },\n    get_ids: function(cells) {\n      var cell, i, ids, len;\n      ids = [];\n      for (i = 0, len = cells.length; i < len; i++) {\n        cell = cells[i];\n        ids.push(cell.id);\n      }\n      return ids;\n    },\n    get_links: function(metabook_model) {\n      return metabook_model.get('links').models;\n    }\n  };\n\n}).call(this);\n\n//# sourceMappingURL=data.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./data.js\n ** module id = 4\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\r\n(function(global, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    define([], factory);\r\n  } else if (typeof module !== 'undefined' && module.exports) {\r\n    module.exports = factory();\r\n  } else {\r\n    global.ReconnectingWebSocket = factory();\r\n  }\r\n})(this, function() {\r\n  var ReconnectingWebSocket;\r\n  ReconnectingWebSocket = function(url, protocols, options) {\r\n    var eventTarget, forcedClose, generateEvent, key, self, settings, timedOut, ws;\r\n    settings = {\r\n      debug: false,\r\n      automaticOpen: true,\r\n      reconnectInterval: 1000,\r\n      maxReconnectInterval: 30000,\r\n      reconnectDecay: 1.5,\r\n      timeoutInterval: 2000,\r\n      maxReconnectAttempts: null,\r\n      binaryType: 'blob'\r\n    };\r\n\r\n    /**\r\n     * This function generates an event that is compatible with standard\r\n     * compliant browsers and IE9 - IE11\r\n     *\r\n     * This will prevent the error:\r\n     * Object doesn't support this action\r\n     *\r\n     * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\r\n     * @param s String The name that the event should use\r\n     * @param args Object an optional object that the event will use\r\n     */\r\n    generateEvent = function(s, args) {\r\n      var evt;\r\n      evt = document.createEvent('CustomEvent');\r\n      evt.initCustomEvent(s, false, false, args);\r\n      return evt;\r\n    };\r\n    if (!options) {\r\n      options = {};\r\n    }\r\n    for (key in settings) {\r\n      if (typeof options[key] !== 'undefined') {\r\n        this[key] = options[key];\r\n      } else {\r\n        this[key] = settings[key];\r\n      }\r\n    }\r\n\r\n    /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\r\n    this.url = url;\r\n\r\n    /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\r\n    this.reconnectAttempts = 0;\r\n\r\n    /**\r\n     * The current state of the connection.\r\n     * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\r\n     * Read only.\r\n     */\r\n    this.readyState = WebSocket.CONNECTING;\r\n\r\n    /**\r\n     * A string indicating the name of the sub-protocol the server selected; this will be one of\r\n     * the strings specified in the protocols parameter when creating the WebSocket object.\r\n     * Read only.\r\n     */\r\n    this.protocol = null;\r\n    self = this;\r\n    ws = void 0;\r\n    forcedClose = false;\r\n    timedOut = false;\r\n    eventTarget = document.createElement('div');\r\n    eventTarget.addEventListener('open', function(event) {\r\n      self.onopen(event);\r\n    });\r\n    eventTarget.addEventListener('close', function(event) {\r\n      self.onclose(event);\r\n    });\r\n    eventTarget.addEventListener('connecting', function(event) {\r\n      self.onconnecting(event);\r\n    });\r\n    eventTarget.addEventListener('message', function(event) {\r\n      self.onmessage(event);\r\n    });\r\n    eventTarget.addEventListener('error', function(event) {\r\n      self.onerror(event);\r\n    });\r\n    this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\r\n    this.removeEventListener = eventTarget.removeEventListener.bind(eventTarget);\r\n    this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\r\n    this.open = function(reconnectAttempt) {\r\n      var localWs, timeout;\r\n      ws = new WebSocket(self.url, protocols || []);\r\n      ws.binaryType = this.binaryType;\r\n      if (reconnectAttempt) {\r\n        if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) {\r\n          return;\r\n        }\r\n      } else {\r\n        eventTarget.dispatchEvent(generateEvent('connecting'));\r\n        this.reconnectAttempts = 0;\r\n      }\r\n      Backbone.trigger(\"websocket:connecting\", this);\r\n      console.log(\"<websocket:connecting>\");\r\n      if (self.debug || ReconnectingWebSocket.debugAll) {\r\n        console.debug('ReconnectingWebSocket', 'attempt-connect', self.url);\r\n      }\r\n      localWs = ws;\r\n      timeout = setTimeout((function() {\r\n        if (self.debug || ReconnectingWebSocket.debugAll) {\r\n          console.debug('ReconnectingWebSocket', 'connection-timeout', self.url);\r\n        }\r\n        timedOut = true;\r\n        localWs.close();\r\n        timedOut = false;\r\n      }), self.timeoutInterval);\r\n      ws.onopen = function(event) {\r\n        var e;\r\n        clearTimeout(timeout);\r\n        if (self.debug || ReconnectingWebSocket.debugAll) {\r\n          console.debug('ReconnectingWebSocket', 'onopen', self.url);\r\n        }\r\n        self.protocol = ws.protocol;\r\n        self.readyState = WebSocket.OPEN;\r\n        self.reconnectAttempts = 0;\r\n        e = generateEvent('open');\r\n        e.isReconnect = reconnectAttempt;\r\n        reconnectAttempt = false;\r\n        eventTarget.dispatchEvent(e);\r\n      };\r\n      ws.onclose = function(event) {\r\n        var timeout;\r\n        var e;\r\n        clearTimeout(timeout);\r\n        ws = null;\r\n        if (forcedClose) {\r\n          self.readyState = WebSocket.CLOSED;\r\n          eventTarget.dispatchEvent(generateEvent('close'));\r\n        } else {\r\n          self.readyState = WebSocket.CONNECTING;\r\n          e = generateEvent('connecting');\r\n          e.code = event.code;\r\n          e.reason = event.reason;\r\n          e.wasClean = event.wasClean;\r\n          eventTarget.dispatchEvent(e);\r\n          if (!reconnectAttempt && !timedOut) {\r\n            if (self.debug || ReconnectingWebSocket.debugAll) {\r\n              console.debug('ReconnectingWebSocket', 'onclose', self.url);\r\n            }\r\n            eventTarget.dispatchEvent(generateEvent('close'));\r\n          }\r\n          timeout = self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts);\r\n          console.log(\"<websocket:wait \" + (timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout));\r\n          Backbone.trigger(\"websocket:wait\", this, timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);\r\n          setTimeout((function() {\r\n            self.reconnectAttempts++;\r\n            self.open(true);\r\n          }), timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);\r\n        }\r\n      };\r\n      ws.onmessage = function(event) {\r\n        var e;\r\n        if (self.debug || ReconnectingWebSocket.debugAll) {\r\n          console.debug('ReconnectingWebSocket', 'onmessage', self.url, event.data);\r\n        }\r\n        e = generateEvent('message');\r\n        e.data = event.data;\r\n        eventTarget.dispatchEvent(e);\r\n      };\r\n      ws.onerror = function(event) {\r\n        if (self.debug || ReconnectingWebSocket.debugAll) {\r\n          console.debug('ReconnectingWebSocket', 'onerror', self.url, event);\r\n        }\r\n        eventTarget.dispatchEvent(generateEvent('error'));\r\n        Backbone.trigger(\"websocket:error\", this);\r\n        console.log(\"websocket:wait\");\r\n      };\r\n    };\r\n    if (this.automaticOpen === true) {\r\n      this.open(false);\r\n    }\r\n\r\n    /**\r\n     * Transmits data to the server over the WebSocket connection.\r\n     *\r\n     * @param data a text string, ArrayBuffer or Blob to send to the server.\r\n     */\r\n    this.send = function(data) {\r\n      if (ws) {\r\n        if (self.debug || ReconnectingWebSocket.debugAll) {\r\n          console.debug('ReconnectingWebSocket', 'send', self.url, data);\r\n        }\r\n        return ws.send(data);\r\n      } else {\r\n        throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Closes the WebSocket connection or connection attempt, if any.\r\n     * If the connection is already CLOSED, this method does nothing.\r\n     */\r\n    this.close = function(code, reason) {\r\n      if (typeof code === 'undefined') {\r\n        code = 1000;\r\n      }\r\n      forcedClose = true;\r\n      if (ws) {\r\n        ws.close(code, reason);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Additional public API method to refresh the connection if still open (close, re-open).\r\n     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\r\n     */\r\n    this.refresh = function() {\r\n      if (ws) {\r\n        ws.close();\r\n      }\r\n    };\r\n  };\r\n  if (!('WebSocket' in window)) {\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\r\n   * this indicates that the connection is ready to send and receive data.\r\n   */\r\n  ReconnectingWebSocket.prototype.onopen = function(event) {};\r\n\r\n  /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\r\n  ReconnectingWebSocket.prototype.onclose = function(event) {};\r\n\r\n  /** An event listener to be called when a connection begins being attempted. */\r\n  ReconnectingWebSocket.prototype.onconnecting = function(event) {};\r\n\r\n  /** An event listener to be called when a message is received from the server. */\r\n  ReconnectingWebSocket.prototype.onmessage = function(event) {};\r\n\r\n  /** An event listener to be called when an error occurs. */\r\n  ReconnectingWebSocket.prototype.onerror = function(event) {};\r\n\r\n  /**\r\n   * Whether all instances of ReconnectingWebSocket should log debug messages.\r\n   * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\r\n   */\r\n  ReconnectingWebSocket.debugAll = false;\r\n  ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\r\n  ReconnectingWebSocket.OPEN = WebSocket.OPEN;\r\n  ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\r\n  ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\r\n  return ReconnectingWebSocket;\r\n});\r\n\r\n//# sourceMappingURL=websocket.js.map\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./websocket.js\n ** module id = 5\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\r\nvar SessionDisconnectedMessage,\r\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\r\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\r\n  hasProp = {}.hasOwnProperty;\r\n\r\nSessionDisconnectedMessage = (function(superClass) {\r\n  extend(SessionDisconnectedMessage, superClass);\r\n\r\n  function SessionDisconnectedMessage() {\r\n    this.start_timer = bind(this.start_timer, this);\r\n    this.hide = bind(this.hide, this);\r\n    this.show = bind(this.show, this);\r\n    this.render = bind(this.render, this);\r\n    return SessionDisconnectedMessage.__super__.constructor.apply(this, arguments);\r\n  }\r\n\r\n  SessionDisconnectedMessage.prototype.initialize = function() {\r\n    SessionDisconnectedMessage.__super__.initialize.apply(this, arguments);\r\n    this.templates = require('./templates');\r\n    this.template = this.templates.Messages.SessionDisconnected;\r\n    this.render();\r\n    this.listenTo(Backbone, \"connection:closed\", this.show);\r\n    this.listenTo(Backbone, \"websocket:wait\", this.start_timer);\r\n    return this.listenTo(Backbone, \"connection:open\", this.hide);\r\n  };\r\n\r\n  SessionDisconnectedMessage.prototype.render = function() {};\r\n\r\n  SessionDisconnectedMessage.prototype.show = function(ev) {\r\n    this.$el.html(this.template);\r\n    this.$el.find(\".message\").addClass(\"hidden\");\r\n    return this.$el.find(\".message\").transition(\"fade\");\r\n  };\r\n\r\n  SessionDisconnectedMessage.prototype.hide = function() {\r\n    this.$el.find(\".message\").removeClass(\"hidden\");\r\n    return this.$el.find(\".message\").transition(\"fade\");\r\n  };\r\n\r\n  SessionDisconnectedMessage.prototype.start_timer = function(ev, time_milliseconds) {\r\n    var plaintext, timer, timer_part;\r\n    plaintext = this.$el.find(this.templates.Messages.SessionDisconnectedTimerEl);\r\n    plaintext.html(this.templates.Messages.SessionDisconnectedTimer);\r\n    timer_part = plaintext.find('span');\r\n    timer = time_milliseconds / 1000;\r\n    return this.interval = setInterval(function(callback) {\r\n      var minutes, seconds;\r\n      minutes = parseInt(timer / 60, 10);\r\n      seconds = parseInt(timer % 60, 10);\r\n      minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n      seconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n      timer_part.html(\" in \" + minutes + \":\" + seconds);\r\n      if (--timer < 0) {\r\n        return callback();\r\n      }\r\n    }, 1000, (function(_this) {\r\n      return function() {\r\n        return clearInterval(_this.interval);\r\n      };\r\n    })(this));\r\n  };\r\n\r\n  return SessionDisconnectedMessage;\r\n\r\n})(Backbone.View);\r\n\r\nmodule.exports = {\r\n  SessionDisconnectedMessage: SessionDisconnectedMessage\r\n};\r\n\r\n//# sourceMappingURL=ui_messages.js.map\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./ui_messages.js\n ** module id = 6\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\r\nmodule.exports = {\r\n  Messages: {\r\n    SessionDisconnected: '<div class=\"ui yellow message hidden\" style=\"min-width:350px;position:fixed; top:70px; left: 50%; transform: translateX(-50%);\"> <div class=\"header\"> Kernel disconnected </div> <p>Kernel disconnected, server is offline</p></div>',\r\n    SessionDisconnectedTimer: 'Server is offline, connecting<span></span>...',\r\n    SessionDisconnectedTimerEl: 'p'\r\n  }\r\n};\r\n\r\n//# sourceMappingURL=templates.js.map\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates.js\n ** module id = 7\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\n(function() {\n  var ApplicationState, CellCollection, CellModel, DetailsView, LinkCollection, LinkModel, MenuView, MetabookModel, imports,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  imports = {\n    data: require(\"./data\"),\n    util: require(\"./util\")\n  };\n\n  CellModel = (function(superClass) {\n    extend(CellModel, superClass);\n\n    function CellModel() {\n      return CellModel.__super__.constructor.apply(this, arguments);\n    }\n\n    CellModel.prototype.initialize = function(attributes, data) {};\n\n    CellModel.prototype.update_data = function(graph_cell) {\n      var content, d;\n      d = \"\\n\";\n      content = _.map(graph_cell.get('content').split(d), function(el) {\n        return el + d;\n      });\n      if (_.last(content) === d) {\n        content.pop();\n      }\n      this.set('source', content);\n      this.set('inPorts', graph_cell.get('inPorts'));\n      this.set('outPorts', graph_cell.get('outPorts'));\n      return this.set('position', graph_cell.get('position'));\n    };\n\n    return CellModel;\n\n  })(Backbone.Model);\n\n  LinkModel = (function(superClass) {\n    extend(LinkModel, superClass);\n\n    function LinkModel() {\n      return LinkModel.__super__.constructor.apply(this, arguments);\n    }\n\n    LinkModel.prototype.initialize = function(attributes, data) {};\n\n    LinkModel.prototype.update_data = function(graph_link) {};\n\n    return LinkModel;\n\n  })(Backbone.Model);\n\n  ApplicationState = (function(superClass) {\n    extend(ApplicationState, superClass);\n\n    function ApplicationState() {\n      return ApplicationState.__super__.constructor.apply(this, arguments);\n    }\n\n    ApplicationState.prototype.initialize = function(attributes, data) {\n      return this.on('change:graph_ready', this.graph_ready, this);\n    };\n\n    ApplicationState.prototype.graph_ready = function() {};\n\n    return ApplicationState;\n\n  })(Backbone.Model);\n\n  CellCollection = (function(superClass) {\n    extend(CellCollection, superClass);\n\n    function CellCollection() {\n      return CellCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    CellCollection.prototype.model = CellModel;\n\n    return CellCollection;\n\n  })(Backbone.Collection);\n\n  LinkCollection = (function(superClass) {\n    extend(LinkCollection, superClass);\n\n    function LinkCollection() {\n      return LinkCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    LinkCollection.prototype.model = LinkModel;\n\n    return LinkCollection;\n\n  })(Backbone.Collection);\n\n  MetabookModel = (function(superClass) {\n    extend(MetabookModel, superClass);\n\n    function MetabookModel() {\n      this.connect = bind(this.connect, this);\n      return MetabookModel.__super__.constructor.apply(this, arguments);\n    }\n\n    MetabookModel.prototype.initialize = function(attributes) {\n      var cell_collection, link_collection;\n      MetabookModel.__super__.initialize.apply(this, arguments);\n      cell_collection = new CellCollection();\n      link_collection = new LinkCollection();\n      this.set('cells', cell_collection);\n      this.set('links', link_collection);\n      return Backbone.trigger('metabook:notready', this);\n    };\n\n    MetabookModel.prototype.connect = function(promised_file) {\n      return promised_file.then((function(_this) {\n        return function(message) {\n          var cell, cell_collection, cell_model, i, j, json_graph, len, len1, link_collection, link_model, ref, ref1;\n          cell_collection = _this.get('cells');\n          json_graph = message.content;\n          ref = json_graph.cells;\n          for (i = 0, len = ref.length; i < len; i++) {\n            cell = ref[i];\n            cell_model = new CellModel(cell);\n            cell_collection.add(cell_model);\n          }\n          _this.set('cells', cell_collection);\n          link_collection = _this.get('links');\n          ref1 = json_graph.links;\n          for (j = 0, len1 = ref1.length; j < len1; j++) {\n            link_model = ref1[j];\n            link_collection.add(link_model);\n          }\n          _this.set('links', link_collection);\n          _this.set('tabs', json_graph.tabs);\n          _this.set('results', json_graph.results);\n          return _this.set('id', json_graph.id);\n        };\n      })(this), function(message) {});\n    };\n\n    MetabookModel.prototype.custom_events = {\n      'save': function(caller, ev) {\n        var call_type, data;\n        data = JSON.stringify(this.attributes);\n        call_type = imports.util.get_parameter('new') ? 'POST' : 'PUT';\n        return $.ajax({\n          url: config.file.endpoint + config.file.path,\n          type: call_type,\n          data: data,\n          success: _.bind((function(json_data, status, xhr) {\n            console.log('Succesfully uploaded data');\n            if (json_data.new_path) {\n              history.replaceState(null, null, \"/\" + json_data.new_path);\n              config.file.path = json_data.new_path;\n              return config.file.name = json_data.new_name;\n            }\n          }), this),\n          error: error_graph\n        });\n      },\n      'solve': function(caller, ev) {\n        return this.session.solve_all(this, ev);\n      }\n    };\n\n    MetabookModel.prototype.data = {\n      get_cells: _.partial(imports.data.get_cells, MetabookModel),\n      get_links: _.partial(imports.data.get_links, MetabookModel)\n    };\n\n    return MetabookModel;\n\n  })(Backbone.Model);\n\n  MenuView = (function(superClass) {\n    extend(MenuView, superClass);\n\n    function MenuView() {\n      return MenuView.__super__.constructor.apply(this, arguments);\n    }\n\n    MenuView.prototype.events = {\n      \"click [data-action]\": function(ev) {\n        var custom_event;\n        custom_event = ev.target.dataset.action;\n        Backbone.trigger(custom_event, this.model, ev);\n        return console.log(\"MenuView event triggered\");\n      }\n    };\n\n    return MenuView;\n\n  })(Backbone.View);\n\n  DetailsView = (function(superClass) {\n    extend(DetailsView, superClass);\n\n    function DetailsView() {\n      this.zombieguard = bind(this.zombieguard, this);\n      this.remove = bind(this.remove, this);\n      this.abort = bind(this.abort, this);\n      this.confirm = bind(this.confirm, this);\n      this.render = bind(this.render, this);\n      this.initialize = bind(this.initialize, this);\n      return DetailsView.__super__.constructor.apply(this, arguments);\n    }\n\n    DetailsView.prototype.template = \"<div class=\\\"ui modal\\\" style=\\\"top:100px\\\">\\n<div class=\\\"header\\\">\\n  Node Properties: FACB345\\n</div>\\n<div class=\\\"content\\\">\\n  <div class=\\\"ui form properties\\\">\\n    <h4 class=\\\"ui dividing header\\\">Type chain: </h4>\\n    <h4 class=\\\"ui dividing header\\\">Tags: </h4>\\n    <div class=\\\"ui three column centered divided grid\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"ui four wide column\\\">\\n                          <label>Inputs:</label>\\n            </div>\\n            <div class=\\\"ui eight wide column\\\">\\n                          <label>Code:</label><br/>\\n                <textarea class=\\\"properties\\\">blehbleh bleh</textarea>\\n            </div>\\n            <div class=\\\"ui four wide column\\\">\\n                          <label>Outputs:</label>\\n            </div>\\n        </div>\\n\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"actions\\\">\\n  <div class=\\\"ui button cancel\\\">Cancel</div>\\n  <div class=\\\"ui green button ok\\\" style=\\\"min-width:200px\\\">OK</div>\\n</div>\\n</div>\";\n\n    DetailsView.prototype.events = {\n      'click .ok': \"confirm\",\n      'click .cancel': \"abort\"\n    };\n\n    DetailsView.prototype.initialize = function(arg) {\n      var template;\n      template = arg.template;\n      return this.render();\n    };\n\n    DetailsView.prototype.render = function() {\n      this.$el.html(this.template);\n      this.$modal = this.$el.find('.ui.modal');\n      this.$modal.modal({\n        detachable: false,\n        closable: false\n      });\n      this.$modal.modal('show');\n      this.$modal.find('textarea.properties').val(this.model.get('content'));\n      this.delegateEvents();\n      return $('.zombieguard').on(\"click\", this.zombieguard);\n    };\n\n    DetailsView.prototype.confirm = function() {\n      return this.remove();\n    };\n\n    DetailsView.prototype.abort = function() {\n      return this.remove();\n    };\n\n    DetailsView.prototype.remove = function() {\n      this.stopListening();\n      this.undelegateEvents();\n      this.off();\n      this.model.off(null, null, this);\n      this.$modal.modal('hide');\n      return this.$modal.remove();\n    };\n\n    DetailsView.prototype.zombieguard = function() {\n      return alert(this.classname);\n    };\n\n    return DetailsView;\n\n  })(Backbone.View);\n\n  module.exports = {\n    views: {\n      DetailsView: DetailsView,\n      MenuView: MenuView\n    },\n    models: {\n      CellModel: CellModel,\n      LinkModel: LinkModel,\n      LinkCollection: LinkCollection,\n      CellCollection: CellCollection,\n      ApplicationState: ApplicationState,\n      MetabookModel: MetabookModel\n    }\n  };\n\n}).call(this);\n\n//# sourceMappingURL=objects.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./objects.js\n ** module id = 8\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.10.0\n(function() {\n  module.exports = {\n    get_parameter: function(sParam) {\n      var i, j, len, ref, sPageURL, sParameterName, sURLVariables;\n      sPageURL = decodeURIComponent(window.location.search.substring(1));\n      sURLVariables = sPageURL.split('&');\n      for (j = 0, len = sURLVariables.length; j < len; j++) {\n        i = sURLVariables[j];\n        sParameterName = i.split('=');\n        if (sParameterName[0] === sParam) {\n          return (ref = sParameterName[1] === void 0) != null ? ref : {\n            \"true\": sParameterName[1]\n          };\n        }\n      }\n    }\n  };\n\n}).call(this);\n\n//# sourceMappingURL=util.js.map\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./util.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}