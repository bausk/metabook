/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	var init_graph;
	
	$(document).ready(function() {
	  var cells, global_gui, graph, imports, links, mainpaper, message, notebook, paper_holder, session, uivent;
	  joint.shapes.html = {};
	  _.extend(joint.shapes.html, __webpack_require__(10), __webpack_require__(11));
	  imports = {
	    ui: __webpack_require__(1),
	    connect: __webpack_require__(3),
	    data: __webpack_require__(4),
	    messages: __webpack_require__(6),
	    settings: __webpack_require__(2),
	    graph: __webpack_require__(17),
	    paper: __webpack_require__(33)
	  };
	  _.extend(imports, __webpack_require__(8));
	  message = new imports.messages.SessionDisconnectedMessage({
	    el: imports.settings.id.globalmessages
	  });
	  uivent = new imports.ui.Vent();
	  uivent.register({
	    'ui': imports.ui
	  });
	  global_gui = new imports.ui.GlobalGUI();
	  session = new imports.connect.Session(config.sessions_endpoint);
	  notebook = new imports.models.MetabookModel({});
	  notebook.connect(session.connect_file(config.file.path));
	  graph = new imports.graph({}, notebook);
	  paper_holder = $(imports.settings.id.graph_container);
	  mainpaper = new imports.paper({
	    el: $(imports.settings.id.paper),
	    width: paper_holder.width(),
	    height: paper_holder.height(),
	    model: graph,
	    gridSize: 1,
	    defaultLink: new joint.shapes.html.Link,
	    linkPinning: false
	  });
	  cells = notebook.get("cells");
	  return links = notebook.get("links");
	});
	
	init_graph = function(json_graph) {
	  var menuview;
	  $("#bottom_sidebar").sidebar({
	    context: $('#id2')
	  });
	  $("#bottom_sidebar").sidebar('setting', 'transition', 'overlay');
	  $("#bottom_sidebar").sidebar('setting', 'dimPage', false);
	  $("#bottom_sidebar").sidebar('attach events', '#uiMenuToggle');
	  $("#bottom_sidebar").sidebar('setting', 'closable', false);
	  uivent.register({
	    'session': notebook.session,
	    'model': notebook,
	    'graph': paper.model
	  });
	  jointjs_attach_events(paper, paper.model);
	  return menuview = new metabook.views.MenuView({
	    el: $("#metabook_top_menu"),
	    model: notebook
	  });
	};
	
	//# sourceMappingURL=init.js.map


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	var ContextMenu, ContextMenuView, GlobalGUI, Settings, Vent, bind_context_menus, custom_events, settings,
	  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
	  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
	  hasProp = {}.hasOwnProperty;
	
	Settings = __webpack_require__(2);
	
	settings = {
	  active_menu_class: "context-menu--active",
	  selector: "#context-menu",
	  context_bindings: {
	    ".element": "#context-menu",
	    "svg": "#context-menu2"
	  },
	  templates: {
	    node: "<a href=\"#\" class=\"item\" data-action=\"graph:node:properties\"><i class=\"fa fa-tasks\"></i> Properties <div class=\"ui small inverted label\">Ctrl+Enter</div></a>\n<a href=\"#\" class=\"item\" data-action=\"session:run\"><i class=\"fa fa-play\"></i> Run Node <div class=\"ui small inverted label\">Ctrl+E</div></a>\n<a href=\"#\" class=\"item\" data-action=\"graph:node:update\"><i class=\"fa fa-exchange\"></i> Sync to Server <div class=\"ui small inverted label\">Ctrl+D</div></a>\n<a href=\"#\" class=\"item\" data-action=\"graph:node:expand\"><i class=\"fa fa-expand\"></i> Expand & Edit <div class=\"ui small inverted label\">Ctrl+D</div></a>\n<a href=\"#\" class=\"item\" data-action=\"graph:node:duplicate\"><i class=\"fa fa-copy\"></i> Duplicate <div class=\"ui small inverted label\">Ctrl+D</div></a>\n<a href=\"#\" class=\"item\" data-action=\"graph:node:similar\"><i class=\"fa fa-plus\"></i> Select Similar <div class=\"ui small inverted label\">Ctrl+D</div></a>\n<a href=\"#\" class=\"item\" data-action=\"graph:node:delete\"><i class=\"fa fa-times\"></i> Delete <div class=\"ui small inverted label\">Ctrl+D</div></a>",
	    blank: "<a href=\"#\" class=\"item\" data-action=\"graph:newnode\"><i class=\"fa fa-eye\"></i> New node <div class=\"ui small inverted label\">Ctrl+D</div></a>\n<a href=\"#\" class=\"item\" data-action=\"model:solve\"><i class=\"fa fa-edit\"></i> Run <div class=\"ui small inverted label\">Ctrl+E</div></a>\n<a href=\"#\" class=\"item\" data-action=\"graph:node:delete\"><i class=\"fa fa-times\"></i> Delete <div class=\"ui small inverted label\">Ctrl+D</div></a>"
	  }
	};
	
	bind_context_menus = function() {
	  var menu_id, ref, results, selector;
	  ref = settings.context_bindings;
	  results = [];
	  for (selector in ref) {
	    menu_id = ref[selector];
	    results.push(this.context_listener.apply(this, [selector, menu_id]));
	  }
	  return results;
	};
	
	custom_events = {
	  'add': function(cell) {
	    return cell.$box.on('contextmenu', _.partialRight(function(e, cell) {
	      var menu;
	      e.preventDefault();
	      return menu = new ContextMenuView(cell.model, {
	        cell: cell,
	        event: e,
	        "class": settings.active_menu_class,
	        selector: settings.selector,
	        template: settings.templates.node
	      });
	    }, cell));
	  },
	  'blankmenu': function(paper, e) {
	    var menu;
	    e.preventDefault();
	    return menu = new ContextMenuView(paper.model, {
	      event: e,
	      "class": settings.active_menu_class,
	      selector: settings.selector,
	      template: settings.templates.blank
	    });
	  }
	};
	
	GlobalGUI = (function(superClass) {
	  extend(GlobalGUI, superClass);
	
	  function GlobalGUI() {
	    this.kernel_status_ok = bind(this.kernel_status_ok, this);
	    return GlobalGUI.__super__.constructor.apply(this, arguments);
	  }
	
	  GlobalGUI.prototype.initialize = function() {
	    this.kernel_status = 'pending';
	    this.listenTo(Backbone, 'metabook:notready', this.dim);
	    this.listenTo(Backbone, 'message:file:connected', this.undim);
	    this.listenTo(Backbone, 'metabook:notready', this.kernel_status_disconnected);
	    this.listenTo(Backbone, 'connection:open', this.kernel_status_pending);
	    this.listenTo(Backbone, 'connection:closed', this.kernel_status_disconnected);
	    return this.listenTo(Backbone, 'message:file:kernelstarted', this.kernel_status_ok);
	  };
	
	  GlobalGUI.prototype.dim = function() {
	    return $("#id2").dimmer({
	      closable: false
	    }).dimmer('show');
	  };
	
	  GlobalGUI.prototype.undim = function() {
	    return $("#id2").dimmer('hide');
	  };
	
	  GlobalGUI.prototype.kernel_status_pending = function() {
	    if (this.kernel_status === 'ok') {
	      return $("#kernelstatus").css("color", "seagreen");
	    } else {
	      return $("#kernelstatus").css("color", "orange");
	    }
	  };
	
	  GlobalGUI.prototype.kernel_status_disconnected = function() {
	    return $("#kernelstatus").css("color", "red");
	  };
	
	  GlobalGUI.prototype.kernel_status_ok = function() {
	    this.kernel_status = 'ok';
	    return $("#kernelstatus").css("color", "seagreen");
	  };
	
	  return GlobalGUI;
	
	})(Backbone.View);
	
	ContextMenuView = (function(superClass) {
	  extend(ContextMenuView, superClass);
	
	  function ContextMenuView() {
	    this.getPosition = bind(this.getPosition, this);
	    this.position_active_menu = bind(this.position_active_menu, this);
	    this.hide = bind(this.hide, this);
	    return ContextMenuView.__super__.constructor.apply(this, arguments);
	  }
	
	  ContextMenuView.prototype.initialize = function(model, settings) {
	    this.active_menu_class = settings["class"];
	    this.template = settings.template;
	    this.el = $(settings.selector);
	    this.event = settings.event;
	    this.model = model;
	    this.cell = settings.cell;
	    Backbone.View.prototype.initialize.apply(this, arguments);
	    return this.render();
	  };
	
	  ContextMenuView.prototype.render = function() {
	    this.el.html(this.template);
	    this.el.addClass(this.active_menu_class);
	    this.position_active_menu(this.event);
	    document.addEventListener("click", this.hide);
	    $(Settings.id.paper).on('mousewheel', this.hide);
	    window.onresize = this.hide;
	    window.onkeyup = (function(_this) {
	      return function(e) {
	        if (e.keyCode === 27) {
	          return _this.hide();
	        }
	      };
	    })(this);
	    return this.el.on("click [data-action]", (function(_this) {
	      return function(ev) {
	        var custom_event;
	        _this.el.off('click [data-action]');
	        custom_event = ev.target.dataset.action;
	        Vent.vent(custom_event, _this.model, ev);
	        console.log(custom_event + " element event triggered");
	        return _this.hide();
	      };
	    })(this));
	  };
	
	  ContextMenuView.prototype.hide = function() {
	    this.el.removeClass(this.active_menu_class);
	    this.remove();
	    return this.unbind();
	  };
	
	  ContextMenuView.prototype.position_active_menu = function(e) {
	    var menuHeight, menuWidth, ref, windowHeight, windowWidth, x, y;
	    ref = this.getPosition(e), x = ref.x, y = ref.y;
	    menuWidth = this.el.offsetWidth + 4;
	    menuHeight = this.el.offsetHeight + 4;
	    windowWidth = window.innerWidth;
	    windowHeight = window.innerHeight;
	    if (windowWidth - x < menuWidth) {
	      this.el.css('left', windowWidth - menuWidth + 'px');
	    } else {
	      this.el.css('left', x + 'px');
	    }
	    if (windowHeight - y < menuHeight) {
	      this.el.css('top', windowHeight - menuHeight + 'px');
	    } else {
	      this.el.css('top', y + 'px');
	    }
	  };
	
	  ContextMenuView.prototype.getPosition = function(e) {
	    var posx, posy;
	    posx = 0;
	    posy = 0;
	    if (e == null) {
	      e = window.event;
	    }
	    if (e.pageX) {
	      posx = e.pageX;
	      posy = e.pageY;
	    } else {
	      posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
	      posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
	    }
	    return {
	      x: posx,
	      y: posy - 12
	    };
	  };
	
	  return ContextMenuView;
	
	})(Backbone.View);
	
	ContextMenu = {
	
	  /*
	  Usage:
	  selector is the element to bind menu to
	  menu_id is the id of menu div that is being bound to selector
	  settings.context_menu = { str selector: str menu_id, ... }
	   */
	  active_menu_class: "context-menu--active",
	  active_menu: void 0,
	  init: function(settings) {
	    var context, menu_id, selector;
	    this.active_menu_class = settings.active_menu_class || this.active_menu_class;
	    context = settings.context_menu;
	    this.active_menu = void 0;
	    for (selector in context) {
	      menu_id = context[selector];
	      this.context_listener.apply(this, [selector, menu_id]);
	    }
	    this.clickListener();
	    this.keyupListener();
	    this.resizeListener();
	    this.scrollListener();
	  },
	  context_listener: function(selector, menu_id) {
	    $(selector).on('contextmenu', function(e) {
	      e.preventDefault();
	      if (ContextMenu.active_menu) {
	        ContextMenu.active_menu_off();
	      }
	      ContextMenu.menu_on(menu_id);
	      ContextMenu.position_active_menu(e);
	      return e.stopPropagation();
	    });
	  },
	  active_menu_off: function() {
	    if (ContextMenu.active_menu) {
	      ContextMenu.active_menu.classList.remove(ContextMenu.active_menu_class);
	      ContextMenu.active_menu = void 0;
	    }
	  },
	  menu_on: function(menu_id) {
	    ContextMenu.active_menu = document.querySelector(menu_id);
	    ContextMenu.active_menu.classList.add(ContextMenu.active_menu_class);
	  },
	  position_active_menu: function(e) {
	    var menuHeight, menuWidth, ref, windowHeight, windowWidth, x, y;
	    ref = ContextMenu.getPosition(e), x = ref.x, y = ref.y;
	    menuWidth = ContextMenu.active_menu.offsetWidth + 4;
	    menuHeight = ContextMenu.active_menu.offsetHeight + 4;
	    windowWidth = window.innerWidth;
	    windowHeight = window.innerHeight;
	    if (windowWidth - x < menuWidth) {
	      ContextMenu.active_menu.style.left = windowWidth - menuWidth + 'px';
	    } else {
	      ContextMenu.active_menu.style.left = x + 'px';
	    }
	    if (windowHeight - y < menuHeight) {
	      ContextMenu.active_menu.style.top = windowHeight - menuHeight + 'px';
	    } else {
	      ContextMenu.active_menu.style.top = y + 'px';
	    }
	  },
	  getPosition: function(e) {
	    var posx, posy;
	    posx = 0;
	    posy = 0;
	    if (e == null) {
	      e = window.event;
	    }
	    if (e.pageX) {
	      posx = e.pageX;
	      posy = e.pageY;
	    } else {
	      posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
	      posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
	    }
	    return {
	      x: posx,
	      y: posy - 12
	    };
	  },
	  clickListener: function() {
	    return document.addEventListener("click", function(e) {
	      ContextMenu.active_menu_off();
	    });
	  },
	  keyupListener: function() {
	    window.onkeyup = function(e) {
	      if (e.keyCode === 27) {
	        ContextMenu.active_menu_off();
	      }
	    };
	  },
	  resizeListener: function() {
	    window.onresize = function(e) {
	      ContextMenu.active_menu_off();
	    };
	  },
	  scrollListener: function() {
	    $('#myholder').on('mousewheel', function(e) {
	      ContextMenu.active_menu_off();
	    });
	  }
	};
	
	Vent = (function() {
	  function Vent() {
	    _.extend(this, Backbone.Events);
	  }
	
	  Vent.prototype.register = function(handlers) {
	    var event_handler, eventclass, eventname, handler, results;
	    results = [];
	    for (eventclass in handlers) {
	      handler = handlers[eventclass];
	      results.push((function() {
	        var ref, results1;
	        ref = handler['custom_events'];
	        results1 = [];
	        for (eventname in ref) {
	          event_handler = ref[eventname];
	          results1.push(this.listenTo(Backbone, eventclass + ":" + eventname, _.bind(event_handler, handler)));
	        }
	        return results1;
	      }).call(this));
	    }
	    return results;
	  };
	
	  Vent.vent = function(custom_event) {
	    var args, primary, secondary, tokens;
	    tokens = custom_event.split(':');
	    primary = tokens.slice(0, 2).join(':');
	    secondary = tokens.slice(2).join(':');
	    args = [].slice.call(arguments, 1);
	    if (secondary !== "") {
	      args.unshift(secondary);
	    }
	    args.unshift(primary);
	    return Backbone.trigger.apply(Backbone, args);
	  };
	
	  Vent.passover = function() {
	    var args, event_name, obj;
	    args = [].slice.call(arguments, 2);
	    event_name = arguments[0];
	    obj = arguments[1];
	    return obj.custom_events[event_name].apply(obj, args);
	  };
	
	  return Vent;
	
	})();
	
	module.exports = {
	  bind_context_menus: bind_context_menus,
	  custom_events: custom_events,
	  ContextMenuView: ContextMenuView,
	  ContextMenu: ContextMenu,
	  Vent: Vent,
	  GlobalGUI: GlobalGUI
	};
	
	//# sourceMappingURL=ui.js.map


/***/ },
/* 2 */
/***/ function(module, exports) {

	// Generated by CoffeeScript 1.10.0
	(function() {
	  module.exports = {
	    id: {
	      messages: "#messages",
	      coords: "#coords",
	      graph_container: "#paper_holder",
	      paper: "#myholder",
	      svg: "#v-2",
	      globalmessages: "#globalmessages"
	    }
	  };
	
	}).call(this);
	
	//# sourceMappingURL=settings.js.map


/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	var Message, Session, imports,
	  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
	
	imports = {
	  data: __webpack_require__(4),
	  websocket: __webpack_require__(5)
	};
	
	Session = (function() {
	  function Session(url) {
	    this.onclose = bind(this.onclose, this);
	    _.extend(this, Backbone.Events);
	    this.id = joint.util.uuid();
	    this.ws = new imports.websocket("ws://" + url + this.id, null, {
	      debug: true,
	      reconnectInterval: 1000,
	      maxReconnectInterval: 30000,
	      reconnectDecay: 1.5
	    });
	    this.promise_session();
	    this.ws.onmessage = this.onmessage;
	  }
	
	  Session.prototype.promise_session = function() {
	    return this.connected = new Promise((function(_this) {
	      return function(resolve, reject) {
	        _this.ws.onopen = _.partial(_this.onopen, resolve);
	        return _this.ws.onclose = _.partial(_this.onclose, reject);
	      };
	    })(this));
	  };
	
	  Session.prototype.onopen = function(resolve, evt) {
	    console.log('<connect.js connection:open>');
	    Backbone.trigger("connection:open", this);
	    return resolve();
	  };
	
	  Session.prototype.connect_file = function(path) {
	    return this.connected.then((function(_this) {
	      return function() {
	        return _this.file = new Promise(function(resolve, reject) {
	          var msg;
	          msg = _this.new_message({
	            type: 'message:file:connect',
	            content: {
	              path: path,
	              query: config.file.query
	            }
	          });
	          _this.ws.send(msg.serialize());
	          _this.listenTo(Backbone, 'message:file:connected', resolve);
	          _this.listenTo(Backbone, 'message:file:error', reject);
	          return _this.file;
	        });
	      };
	    })(this));
	  };
	
	  Session.prototype.new_message = function(arg) {
	    var content, type;
	    type = arg.type, content = arg.content;
	    return Message["new"]({
	      session: this.id,
	      msg_type: type,
	      content: content
	    });
	  };
	
	  Session.prototype.run_cell = function(node_model, event) {
	    var cells, ids, links, msg;
	    cells = importsimports.data.get_cells(node_model.graph.metabook);
	    links = importsimports.data.get_links(node_model.graph.metabook);
	    ids = [node_model.id];
	    msg = new Message({
	      session: this.id,
	      msg_type: "update",
	      content: {
	        cells: cells,
	        links: links,
	        ids: ids
	      }
	    });
	    return this.ws.send(msg.serialize());
	  };
	
	  Session.prototype.solve_all = function(metabook_model, event) {
	    var cells, ids, links, msg;
	    cells = imports.data.get_cells(metabook_model);
	    links = imports.data.get_links(metabook_model);
	    ids = imports.data.get_ids(cells);
	    msg = new Message({
	      session: this.id,
	      msg_type: "solve",
	      content: {
	        cells: cells,
	        links: links,
	        ids: ids
	      }
	    });
	    this.ws.send(msg.serialize());
	    return console.log("solve_all: " + this.id);
	  };
	
	  Session.prototype.onmessage = function(evt) {
	    var message;
	    message = new Message(JSON.parse(evt.data));
	    return Backbone.trigger(message.header.msg_type, message);
	  };
	
	  Session.prototype.onclose = function(reject, evt) {
	    reject();
	    this.promise_session();
	    console.log("<connect.js connection closed>");
	    return Backbone.trigger('connection:closed', this);
	  };
	
	  Session.prototype.custom_events = {
	    'run': Session.prototype.run_cell
	  };
	
	  return Session;
	
	})();
	
	Message = (function() {
	  function Message(arg) {
	    this.header = arg.header, this.parent_header = arg.parent_header, this.metadata = arg.metadata, this.content = arg.content;
	  }
	
	  Message["new"] = function(arg) {
	    var content, header, metadata, msg_type, parent_header, session;
	    session = arg.session, msg_type = arg.msg_type, header = arg.header, parent_header = arg.parent_header, metadata = arg.metadata, content = arg.content;
	    if (header == null) {
	      header = this.defaults.header();
	    }
	    header.session = session;
	    header.msg_type = msg_type;
	    if (metadata == null) {
	      metadata = this.defaults.metadata;
	    }
	    if (parent_header == null) {
	      parent_header = this.defaults.parent_header;
	    }
	    if (content == null) {
	      content = this.defaults.content;
	    }
	    return new Message({
	      header: header,
	      parent_header: parent_header,
	      metadata: metadata,
	      content: content
	    });
	  };
	
	  Message.defaults = {
	    header: function() {
	      return {
	        msg_id: joint.util.uuid(),
	        username: "default",
	        session: "",
	        date: "",
	        msg_type: "default",
	        version: '1'
	      };
	    },
	    metadata: {},
	    parent_header: {},
	    content: {}
	  };
	
	  Message.prototype.serialize = function() {
	    return JSON.stringify(this);
	  };
	
	  return Message;
	
	})();
	
	module.exports = {
	  Session: Session,
	  Message: Message
	};
	
	//# sourceMappingURL=connect.js.map


/***/ },
/* 4 */
/***/ function(module, exports) {

	// Generated by CoffeeScript 1.10.0
	(function() {
	  module.exports = {
	    get_template: function(success, error) {
	      return $.ajax({
	        url: config.template_endpoint + config.file.path,
	        type: 'GET',
	        success: success,
	        error: error
	      });
	    },
	    get_file: function(success, error) {
	      return $.ajax({
	        url: config.file.endpoint + config.file.path,
	        type: 'GET',
	        success: success,
	        error: error
	      });
	    },
	    get_ajax_data: function(data_uri, success, error) {
	      return $.ajax({
	        url: data_uri,
	        type: 'GET',
	        success: success,
	        error: error
	      });
	    },
	    get_xhr: function(data_uri) {
	      return $.ajax({
	        url: data_uri,
	        type: 'GET'
	      });
	    },
	    is_good_form: function(json_data) {
	      if (typeof json_data === 'object') {
	        if ('metadata' in json_data) {
	          if ('metabook' in json_data.metadata) {
	            if ('links' in json_data.metadata.metabook) {
	              return true;
	            }
	          }
	        }
	      }
	      return false;
	    },
	    is_native: function(file_json) {
	      if ('metadata' in file_json) {
	        if (file_json.metadata.format === "native") {
	          return true;
	        }
	      }
	      return false;
	    },
	    get_cells: function(metabook_model) {
	      return metabook_model.get('cells').models;
	    },
	    get_ids: function(cells) {
	      var cell, i, ids, len;
	      ids = [];
	      for (i = 0, len = cells.length; i < len; i++) {
	        cell = cells[i];
	        ids.push(cell.id);
	      }
	      return ids;
	    },
	    get_links: function(metabook_model) {
	      return metabook_model.get('links').models;
	    }
	  };
	
	}).call(this);
	
	//# sourceMappingURL=data.js.map


/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Generated by CoffeeScript 1.10.0
	(function(global, factory) {
	  if (true) {
	    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	  } else if (typeof module !== 'undefined' && module.exports) {
	    module.exports = factory();
	  } else {
	    global.ReconnectingWebSocket = factory();
	  }
	})(this, function() {
	  var ReconnectingWebSocket;
	  ReconnectingWebSocket = function(url, protocols, options) {
	    var eventTarget, forcedClose, generateEvent, key, self, settings, timedOut, ws;
	    settings = {
	      debug: false,
	      automaticOpen: true,
	      reconnectInterval: 1000,
	      maxReconnectInterval: 30000,
	      reconnectDecay: 1.5,
	      timeoutInterval: 2000,
	      maxReconnectAttempts: null,
	      binaryType: 'blob'
	    };
	
	    /**
	     * This function generates an event that is compatible with standard
	     * compliant browsers and IE9 - IE11
	     *
	     * This will prevent the error:
	     * Object doesn't support this action
	     *
	     * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563
	     * @param s String The name that the event should use
	     * @param args Object an optional object that the event will use
	     */
	    generateEvent = function(s, args) {
	      var evt;
	      evt = document.createEvent('CustomEvent');
	      evt.initCustomEvent(s, false, false, args);
	      return evt;
	    };
	    if (!options) {
	      options = {};
	    }
	    for (key in settings) {
	      if (typeof options[key] !== 'undefined') {
	        this[key] = options[key];
	      } else {
	        this[key] = settings[key];
	      }
	    }
	
	    /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */
	    this.url = url;
	
	    /** The number of attempted reconnects since starting, or the last successful connection. Read only. */
	    this.reconnectAttempts = 0;
	
	    /**
	     * The current state of the connection.
	     * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED
	     * Read only.
	     */
	    this.readyState = WebSocket.CONNECTING;
	
	    /**
	     * A string indicating the name of the sub-protocol the server selected; this will be one of
	     * the strings specified in the protocols parameter when creating the WebSocket object.
	     * Read only.
	     */
	    this.protocol = null;
	    self = this;
	    ws = void 0;
	    forcedClose = false;
	    timedOut = false;
	    eventTarget = document.createElement('div');
	    eventTarget.addEventListener('open', function(event) {
	      self.onopen(event);
	    });
	    eventTarget.addEventListener('close', function(event) {
	      self.onclose(event);
	    });
	    eventTarget.addEventListener('connecting', function(event) {
	      self.onconnecting(event);
	    });
	    eventTarget.addEventListener('message', function(event) {
	      self.onmessage(event);
	    });
	    eventTarget.addEventListener('error', function(event) {
	      self.onerror(event);
	    });
	    this.addEventListener = eventTarget.addEventListener.bind(eventTarget);
	    this.removeEventListener = eventTarget.removeEventListener.bind(eventTarget);
	    this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);
	    this.open = function(reconnectAttempt) {
	      var localWs, timeout;
	      ws = new WebSocket(self.url, protocols || []);
	      ws.binaryType = this.binaryType;
	      if (reconnectAttempt) {
	        if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) {
	          return;
	        }
	      } else {
	        eventTarget.dispatchEvent(generateEvent('connecting'));
	        this.reconnectAttempts = 0;
	      }
	      Backbone.trigger("websocket:connecting", this);
	      console.log("<websocket:connecting>");
	      if (self.debug || ReconnectingWebSocket.debugAll) {
	        console.debug('ReconnectingWebSocket', 'attempt-connect', self.url);
	      }
	      localWs = ws;
	      timeout = setTimeout((function() {
	        if (self.debug || ReconnectingWebSocket.debugAll) {
	          console.debug('ReconnectingWebSocket', 'connection-timeout', self.url);
	        }
	        timedOut = true;
	        localWs.close();
	        timedOut = false;
	      }), self.timeoutInterval);
	      ws.onopen = function(event) {
	        var e;
	        clearTimeout(timeout);
	        if (self.debug || ReconnectingWebSocket.debugAll) {
	          console.debug('ReconnectingWebSocket', 'onopen', self.url);
	        }
	        self.protocol = ws.protocol;
	        self.readyState = WebSocket.OPEN;
	        self.reconnectAttempts = 0;
	        e = generateEvent('open');
	        e.isReconnect = reconnectAttempt;
	        reconnectAttempt = false;
	        eventTarget.dispatchEvent(e);
	      };
	      ws.onclose = function(event) {
	        var timeout;
	        var e;
	        clearTimeout(timeout);
	        ws = null;
	        if (forcedClose) {
	          self.readyState = WebSocket.CLOSED;
	          eventTarget.dispatchEvent(generateEvent('close'));
	        } else {
	          self.readyState = WebSocket.CONNECTING;
	          e = generateEvent('connecting');
	          e.code = event.code;
	          e.reason = event.reason;
	          e.wasClean = event.wasClean;
	          eventTarget.dispatchEvent(e);
	          if (!reconnectAttempt && !timedOut) {
	            if (self.debug || ReconnectingWebSocket.debugAll) {
	              console.debug('ReconnectingWebSocket', 'onclose', self.url);
	            }
	            eventTarget.dispatchEvent(generateEvent('close'));
	          }
	          timeout = self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts);
	          console.log("<websocket:wait " + (timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout));
	          Backbone.trigger("websocket:wait", this, timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);
	          setTimeout((function() {
	            self.reconnectAttempts++;
	            self.open(true);
	          }), timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);
	        }
	      };
	      ws.onmessage = function(event) {
	        var e;
	        if (self.debug || ReconnectingWebSocket.debugAll) {
	          console.debug('ReconnectingWebSocket', 'onmessage', self.url, event.data);
	        }
	        e = generateEvent('message');
	        e.data = event.data;
	        eventTarget.dispatchEvent(e);
	      };
	      ws.onerror = function(event) {
	        if (self.debug || ReconnectingWebSocket.debugAll) {
	          console.debug('ReconnectingWebSocket', 'onerror', self.url, event);
	        }
	        eventTarget.dispatchEvent(generateEvent('error'));
	        Backbone.trigger("websocket:error", this);
	        console.log("websocket:wait");
	      };
	    };
	    if (this.automaticOpen === true) {
	      this.open(false);
	    }
	
	    /**
	     * Transmits data to the server over the WebSocket connection.
	     *
	     * @param data a text string, ArrayBuffer or Blob to send to the server.
	     */
	    this.send = function(data) {
	      if (ws) {
	        if (self.debug || ReconnectingWebSocket.debugAll) {
	          console.debug('ReconnectingWebSocket', 'send', self.url, data);
	        }
	        return ws.send(data);
	      } else {
	        throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';
	      }
	    };
	
	    /**
	     * Closes the WebSocket connection or connection attempt, if any.
	     * If the connection is already CLOSED, this method does nothing.
	     */
	    this.close = function(code, reason) {
	      if (typeof code === 'undefined') {
	        code = 1000;
	      }
	      forcedClose = true;
	      if (ws) {
	        ws.close(code, reason);
	      }
	    };
	
	    /**
	     * Additional public API method to refresh the connection if still open (close, re-open).
	     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.
	     */
	    this.refresh = function() {
	      if (ws) {
	        ws.close();
	      }
	    };
	  };
	  if (!('WebSocket' in window)) {
	    return;
	  }
	
	  /**
	   * An event listener to be called when the WebSocket connection's readyState changes to OPEN;
	   * this indicates that the connection is ready to send and receive data.
	   */
	  ReconnectingWebSocket.prototype.onopen = function(event) {};
	
	  /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */
	  ReconnectingWebSocket.prototype.onclose = function(event) {};
	
	  /** An event listener to be called when a connection begins being attempted. */
	  ReconnectingWebSocket.prototype.onconnecting = function(event) {};
	
	  /** An event listener to be called when a message is received from the server. */
	  ReconnectingWebSocket.prototype.onmessage = function(event) {};
	
	  /** An event listener to be called when an error occurs. */
	  ReconnectingWebSocket.prototype.onerror = function(event) {};
	
	  /**
	   * Whether all instances of ReconnectingWebSocket should log debug messages.
	   * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.
	   */
	  ReconnectingWebSocket.debugAll = false;
	  ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;
	  ReconnectingWebSocket.OPEN = WebSocket.OPEN;
	  ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;
	  ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;
	  return ReconnectingWebSocket;
	});
	
	//# sourceMappingURL=websocket.js.map


/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	var SessionDisconnectedMessage,
	  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
	  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
	  hasProp = {}.hasOwnProperty;
	
	SessionDisconnectedMessage = (function(superClass) {
	  extend(SessionDisconnectedMessage, superClass);
	
	  function SessionDisconnectedMessage() {
	    this.start_timer = bind(this.start_timer, this);
	    this.hide = bind(this.hide, this);
	    this.show = bind(this.show, this);
	    this.render = bind(this.render, this);
	    return SessionDisconnectedMessage.__super__.constructor.apply(this, arguments);
	  }
	
	  SessionDisconnectedMessage.prototype.initialize = function() {
	    SessionDisconnectedMessage.__super__.initialize.apply(this, arguments);
	    this.templates = __webpack_require__(7);
	    this.template = this.templates.Messages.SessionDisconnected;
	    this.render();
	    this.listenTo(Backbone, "connection:closed", this.show);
	    this.listenTo(Backbone, "websocket:wait", this.start_timer);
	    return this.listenTo(Backbone, "connection:open", this.hide);
	  };
	
	  SessionDisconnectedMessage.prototype.render = function() {};
	
	  SessionDisconnectedMessage.prototype.show = function(ev) {
	    this.$el.html(this.template);
	    this.$el.find(".message").addClass("hidden");
	    return this.$el.find(".message").transition("fade");
	  };
	
	  SessionDisconnectedMessage.prototype.hide = function() {
	    this.$el.find(".message").removeClass("hidden");
	    return this.$el.find(".message").transition("fade");
	  };
	
	  SessionDisconnectedMessage.prototype.start_timer = function(ev, time_milliseconds) {
	    var plaintext, timer, timer_part;
	    plaintext = this.$el.find(this.templates.Messages.SessionDisconnectedTimerEl);
	    plaintext.html(this.templates.Messages.SessionDisconnectedTimer);
	    timer_part = plaintext.find('span');
	    timer = time_milliseconds / 1000;
	    return this.interval = setInterval(function(callback) {
	      var minutes, seconds;
	      minutes = parseInt(timer / 60, 10);
	      seconds = parseInt(timer % 60, 10);
	      minutes = minutes < 10 ? "0" + minutes : minutes;
	      seconds = seconds < 10 ? "0" + seconds : seconds;
	      timer_part.html(" in " + minutes + ":" + seconds);
	      if (--timer < 0) {
	        return callback();
	      }
	    }, 1000, (function(_this) {
	      return function() {
	        return clearInterval(_this.interval);
	      };
	    })(this));
	  };
	
	  return SessionDisconnectedMessage;
	
	})(Backbone.View);
	
	module.exports = {
	  SessionDisconnectedMessage: SessionDisconnectedMessage
	};
	
	//# sourceMappingURL=ui_messages.js.map


/***/ },
/* 7 */
/***/ function(module, exports) {

	// Generated by CoffeeScript 1.10.0
	module.exports = {
	  Messages: {
	    SessionDisconnected: '<div class="ui yellow message hidden" style="min-width:350px;position:fixed; top:70px; left: 50%; transform: translateX(-50%);"> <div class="header"> Kernel disconnected </div> <p>Kernel disconnected, server is offline</p></div>',
	    SessionDisconnectedTimer: 'Server is offline, connecting<span></span>...',
	    SessionDisconnectedTimerEl: 'p'
	  }
	};
	
	//# sourceMappingURL=templates.js.map


/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	var ApplicationState, CellCollection, CellModel, DetailsView, LinkCollection, LinkModel, MenuView, MetabookModel, imports,
	  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
	  hasProp = {}.hasOwnProperty,
	  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
	
	imports = {
	  data: __webpack_require__(4),
	  util: __webpack_require__(9)
	};
	
	CellModel = (function(superClass) {
	  extend(CellModel, superClass);
	
	  function CellModel() {
	    return CellModel.__super__.constructor.apply(this, arguments);
	  }
	
	  CellModel.prototype.initialize = function(attributes, data) {};
	
	  CellModel.prototype.update_data = function(graph_cell) {
	    var content, d;
	    d = "\n";
	    content = _.map(graph_cell.get('content').split(d), function(el) {
	      return el + d;
	    });
	    if (_.last(content) === d) {
	      content.pop();
	    }
	    this.set('source', content);
	    this.set('inPorts', graph_cell.get('inPorts'));
	    this.set('outPorts', graph_cell.get('outPorts'));
	    return this.set('position', graph_cell.get('position'));
	  };
	
	  return CellModel;
	
	})(Backbone.Model);
	
	LinkModel = (function(superClass) {
	  extend(LinkModel, superClass);
	
	  function LinkModel() {
	    return LinkModel.__super__.constructor.apply(this, arguments);
	  }
	
	  LinkModel.prototype.initialize = function(attributes, data) {};
	
	  LinkModel.prototype.update_data = function(graph_link) {};
	
	  return LinkModel;
	
	})(Backbone.Model);
	
	ApplicationState = (function(superClass) {
	  extend(ApplicationState, superClass);
	
	  function ApplicationState() {
	    return ApplicationState.__super__.constructor.apply(this, arguments);
	  }
	
	  ApplicationState.prototype.initialize = function(attributes, data) {
	    return this.on('change:graph_ready', this.graph_ready, this);
	  };
	
	  ApplicationState.prototype.graph_ready = function() {};
	
	  return ApplicationState;
	
	})(Backbone.Model);
	
	CellCollection = (function(superClass) {
	  extend(CellCollection, superClass);
	
	  function CellCollection() {
	    return CellCollection.__super__.constructor.apply(this, arguments);
	  }
	
	  CellCollection.prototype.model = CellModel;
	
	  return CellCollection;
	
	})(Backbone.Collection);
	
	LinkCollection = (function(superClass) {
	  extend(LinkCollection, superClass);
	
	  function LinkCollection() {
	    return LinkCollection.__super__.constructor.apply(this, arguments);
	  }
	
	  LinkCollection.prototype.model = LinkModel;
	
	  return LinkCollection;
	
	})(Backbone.Collection);
	
	MetabookModel = (function(superClass) {
	  extend(MetabookModel, superClass);
	
	  function MetabookModel() {
	    this.connect = bind(this.connect, this);
	    return MetabookModel.__super__.constructor.apply(this, arguments);
	  }
	
	  MetabookModel.prototype.initialize = function(attributes) {
	    var cell_collection, link_collection;
	    MetabookModel.__super__.initialize.apply(this, arguments);
	    cell_collection = new CellCollection();
	    link_collection = new LinkCollection();
	    this.set('cells', cell_collection);
	    this.set('links', link_collection);
	    return Backbone.trigger('metabook:notready', this);
	  };
	
	  MetabookModel.prototype.connect = function(promised_file) {
	    return promised_file.then((function(_this) {
	      return function(message) {
	        var cell, cell_collection, cell_model, i, j, json_graph, len, len1, link_collection, link_model, ref, ref1;
	        cell_collection = _this.get('cells');
	        json_graph = message.content;
	        ref = json_graph.cells;
	        for (i = 0, len = ref.length; i < len; i++) {
	          cell = ref[i];
	          cell_model = new CellModel(cell);
	          cell_collection.add(cell_model);
	        }
	        _this.set('cells', cell_collection);
	        link_collection = _this.get('links');
	        ref1 = json_graph.links;
	        for (j = 0, len1 = ref1.length; j < len1; j++) {
	          link_model = ref1[j];
	          link_collection.add(link_model);
	        }
	        _this.set('links', link_collection);
	        _this.set('tabs', json_graph.tabs);
	        _this.set('results', json_graph.results);
	        return _this.set('id', json_graph.id);
	      };
	    })(this), function(message) {});
	  };
	
	  MetabookModel.prototype.custom_events = {
	    'save': function(caller, ev) {
	      var call_type, data;
	      data = JSON.stringify(this.attributes);
	      call_type = imports.util.get_parameter('new') ? 'POST' : 'PUT';
	      return $.ajax({
	        url: config.file.endpoint + config.file.path,
	        type: call_type,
	        data: data,
	        success: _.bind((function(json_data, status, xhr) {
	          console.log('Succesfully uploaded data');
	          if (json_data.new_path) {
	            history.replaceState(null, null, "/" + json_data.new_path);
	            config.file.path = json_data.new_path;
	            return config.file.name = json_data.new_name;
	          }
	        }), this),
	        error: error_graph
	      });
	    },
	    'solve': function(caller, ev) {
	      return this.session.solve_all(this, ev);
	    }
	  };
	
	  MetabookModel.prototype.data = {
	    get_cells: _.partial(imports.data.get_cells, MetabookModel),
	    get_links: _.partial(imports.data.get_links, MetabookModel)
	  };
	
	  return MetabookModel;
	
	})(Backbone.Model);
	
	MenuView = (function(superClass) {
	  extend(MenuView, superClass);
	
	  function MenuView() {
	    return MenuView.__super__.constructor.apply(this, arguments);
	  }
	
	  MenuView.prototype.events = {
	    "click [data-action]": function(ev) {
	      var custom_event;
	      custom_event = ev.target.dataset.action;
	      Backbone.trigger(custom_event, this.model, ev);
	      return console.log("MenuView event triggered");
	    }
	  };
	
	  return MenuView;
	
	})(Backbone.View);
	
	DetailsView = (function(superClass) {
	  extend(DetailsView, superClass);
	
	  function DetailsView() {
	    this.zombieguard = bind(this.zombieguard, this);
	    this.remove = bind(this.remove, this);
	    this.abort = bind(this.abort, this);
	    this.confirm = bind(this.confirm, this);
	    this.render = bind(this.render, this);
	    this.initialize = bind(this.initialize, this);
	    return DetailsView.__super__.constructor.apply(this, arguments);
	  }
	
	  DetailsView.prototype.template = "<div class=\"ui modal\" style=\"top:100px\">\n<div class=\"header\">\n  Node Properties: FACB345\n</div>\n<div class=\"content\">\n  <div class=\"ui form properties\">\n    <h4 class=\"ui dividing header\">Type chain: </h4>\n    <h4 class=\"ui dividing header\">Tags: </h4>\n    <div class=\"ui three column centered divided grid\">\n        <div class=\"row\">\n            <div class=\"ui four wide column\">\n                          <label>Inputs:</label>\n            </div>\n            <div class=\"ui eight wide column\">\n                          <label>Code:</label><br/>\n                <textarea class=\"properties\">blehbleh bleh</textarea>\n            </div>\n            <div class=\"ui four wide column\">\n                          <label>Outputs:</label>\n            </div>\n        </div>\n\n    </div>\n  </div>\n</div>\n<div class=\"actions\">\n  <div class=\"ui button cancel\">Cancel</div>\n  <div class=\"ui green button ok\" style=\"min-width:200px\">OK</div>\n</div>\n</div>";
	
	  DetailsView.prototype.events = {
	    'click .ok': "confirm",
	    'click .cancel': "abort"
	  };
	
	  DetailsView.prototype.initialize = function(arg) {
	    var template;
	    template = arg.template;
	    return this.render();
	  };
	
	  DetailsView.prototype.render = function() {
	    this.$el.html(this.template);
	    this.$modal = this.$el.find('.ui.modal');
	    this.$modal.modal({
	      detachable: false,
	      closable: false
	    });
	    this.$modal.modal('show');
	    this.$modal.find('textarea.properties').val(this.model.get('content'));
	    this.delegateEvents();
	    return $('.zombieguard').on("click", this.zombieguard);
	  };
	
	  DetailsView.prototype.confirm = function() {
	    return this.remove();
	  };
	
	  DetailsView.prototype.abort = function() {
	    return this.remove();
	  };
	
	  DetailsView.prototype.remove = function() {
	    this.stopListening();
	    this.undelegateEvents();
	    this.off();
	    this.model.off(null, null, this);
	    this.$modal.modal('hide');
	    return this.$modal.remove();
	  };
	
	  DetailsView.prototype.zombieguard = function() {
	    return alert(this.classname);
	  };
	
	  return DetailsView;
	
	})(Backbone.View);
	
	module.exports = {
	  views: {
	    DetailsView: DetailsView,
	    MenuView: MenuView
	  },
	  models: {
	    CellModel: CellModel,
	    LinkModel: LinkModel,
	    LinkCollection: LinkCollection,
	    CellCollection: CellCollection,
	    ApplicationState: ApplicationState,
	    MetabookModel: MetabookModel
	  }
	};
	
	//# sourceMappingURL=objects.js.map


/***/ },
/* 9 */
/***/ function(module, exports) {

	// Generated by CoffeeScript 1.10.0
	(function() {
	  module.exports = {
	    get_parameter: function(sParam) {
	      var i, j, len, ref, sPageURL, sParameterName, sURLVariables;
	      sPageURL = decodeURIComponent(window.location.search.substring(1));
	      sURLVariables = sPageURL.split('&');
	      for (j = 0, len = sURLVariables.length; j < len; j++) {
	        i = sURLVariables[j];
	        sParameterName = i.split('=');
	        if (sParameterName[0] === sParam) {
	          return (ref = sParameterName[1] === void 0) != null ? ref : {
	            "true": sParameterName[1]
	          };
	        }
	      }
	    }
	  };
	
	}).call(this);
	
	//# sourceMappingURL=util.js.map


/***/ },
/* 10 */
/***/ function(module, exports) {

	// Generated by CoffeeScript 1.10.0
	(function() {
	  var Node;
	
	  Node = joint.shapes.basic.Generic.extend(_.extend({}, joint.shapes.basic.PortsModelInterface, {
	    markup: '<g class="rotatable"><g class="scalable"><rect class="body"/></g><text class="label"/><g class="inPorts"/><g class="outPorts"/></g>',
	    portMarkup: '<g class="port port<%= id %>"><circle class="port-body"/></g>',
	    defaults: joint.util.deepSupplement({
	      type: 'html.Node',
	      size: {
	        width: 350,
	        height: 100
	      },
	      inPorts: ['In[0]'],
	      outPorts: ['Out[0]'],
	      attrs: {
	        rect: {
	          stroke: 'none',
	          fill: 'transparent',
	          'stroke-opacity': 0,
	          'fill-opacity': 0
	        },
	        '.': {
	          magnet: false
	        },
	        '.body': {
	          width: 150,
	          height: 150,
	          stroke: '#000000'
	        },
	        '.port-body': {
	          r: 10,
	          magnet: true,
	          stroke: '#000000'
	        },
	        text: {
	          'pointer-events': 'none'
	        },
	        '.label': {
	          text: 'Model',
	          'ref-x': .5,
	          'ref-y': 10,
	          ref: '.body',
	          'text-anchor': 'middle',
	          fill: '#000000'
	        },
	        '.inPorts .port-label': {
	          x: -15,
	          dy: 4,
	          'text-anchor': 'end',
	          fill: '#000000'
	        },
	        '.outPorts .port-label': {
	          x: 15,
	          dy: 4,
	          fill: '#000000'
	        },
	        '.inPorts circle': {
	          fill: '#666666',
	          'stroke-opacity': 0
	        },
	        '.outPorts circle': {
	          fill: '#999999',
	          'stroke-opacity': 0
	        },
	        '.inPorts .port-body': {
	          fill: '#333333'
	        },
	        '.outPorts .port-body': {
	          fill: '#666666'
	        }
	      },
	      head_content: 'Cell: ID',
	      content: 'Click to edit code',
	      footing_content: 'Version A4D3E453',
	      node_markup: {
	        head: '<span class="content_head">Code Cell: FGFDG3456FGDFE</span>',
	        node_viewer: '<div class="node_viewer"></div>',
	        node_editor: '<span class="ui form node_editor"><textarea class="node_coupled"></textarea></span>',
	        footing: '<span class="ui small label content_footing" style="font-family: monospace">Python file</span>'
	      }
	    }, joint.shapes.basic.Generic.prototype.defaults),
	    initialize: function(attrs, data) {
	      this.cell_model = data.cell_model;
	      this.on('change', _.bind((function() {
	        console.log('<change:content>');
	        return this.cell_model.update_data(this);
	      }), this));
	      this.on('change:position', _.bind((function() {
	        return this.cell_model.update_data(this);
	      }), this));
	      this.updatePortsAttrs();
	      this.on('change:inPorts change:outPorts', this.updatePortsAttrs, this);
	      return this.constructor.__super__.constructor.__super__.initialize.apply(this, arguments);
	    },
	    getPortAttrs: function(portName, index, total, selector, type) {
	      var attrs, portBodySelector, portClass, portLabelSelector, portSelector;
	      attrs = {};
	      portClass = 'port' + index;
	      portSelector = selector + '>.' + portClass;
	      portLabelSelector = portSelector + '>.port-label';
	      portBodySelector = portSelector + '>.port-body';
	      attrs[portLabelSelector] = {
	        text: portName
	      };
	      attrs[portBodySelector] = {
	        port: {
	          id: portName || _.uniqueId(type),
	          type: type
	        }
	      };
	      attrs[portSelector] = {
	        ref: '.body',
	        'ref-y': (39 / 38 + 0.5 + index) / (39 / 38 + total)
	      };
	      if (selector === '.outPorts') {
	        attrs[portSelector]['ref-dx'] = 0;
	      }
	      return attrs;
	    },
	    custom_events: {
	      properties: function() {
	        return console.log("properties");
	      }
	    }
	  }));
	
	  module.exports = {
	    Node: Node
	  };
	
	}).call(this);
	
	//# sourceMappingURL=node.js.map


/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	(function() {
	  var Link, NodeView, imports,
	    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
	    hasProp = {}.hasOwnProperty;
	
	  imports = __webpack_require__(8);
	
	  NodeView = joint.dia.ElementView.extend(_.extend({}, joint.shapes.basic.PortsViewInterface, {
	    template: ['<div style="position:absolute" class="node_container selection-box">', '<table class="ui very compact celled table node_table">', '<thead><tr data-metabook="node-head"><th colspan="3" class="node_head" data-content="Blergh"><%= head %></th></tr></thead>', '<tbody><tr class="content_row"><td class="node_empty"></td>', '<td class="node_content" rowspan="1"><%= node_viewer %><%= node_editor %></td>', '<td class="node_empty"></td></tr></tbody>', '<tfoot><tr><th colspan="3" class="node_footing"><%= footing %></th></tr></tfoot>', '</table>', '</div>'].join(''),
	    content: {},
	    initialize: function(attributes, data) {
	      joint.dia.ElementView.prototype.initialize.apply(this, arguments);
	      this.isdraggable = false;
	      this.isedited = false;
	      this.isrendered = false;
	      this.dragpoint = {
	        x: 0,
	        y: 0,
	        paper_x: 0,
	        paper_y: 0,
	        client_x: 0,
	        client_y: 0,
	        offset_x: 0,
	        offset_y: 0
	      };
	      this.$box = $(_.template(this.template)(this.model.get('node_markup')));
	      this.$box.find('.node_editor').addClass('invisible');
	      this.$box.find('.node_viewer').css(this.model.get('dimensions'));
	      this.$box.find('th.node_head').on('mousedown', _.bind((function(evt) {
	        var point, point2;
	        evt = evt.originalEvent;
	        if (evt.which !== 1) {
	          return;
	        }
	        this.dragpoint.x = evt.pageX;
	        this.dragpoint.y = evt.pageY;
	        point = this.paper.origin;
	        this.dragpoint.offset_x = point.x * this.paper.scale;
	        this.dragpoint.offset_y = point.y * this.paper.scale;
	        point2 = this.paper.offsetToLocalPoint(this.dragpoint.x, this.dragpoint.y);
	        this.dragpoint.paper_x = point2.x;
	        this.dragpoint.paper_y = point2.y;
	        this.dragpoint.client_x = this.model.get('position').x;
	        this.dragpoint.client_y = this.model.get('position').y;
	        return this.isdraggable = true;
	      }), this));
	      this.$box.find('th.node_head').popup();
	      $(window).on('mousemove', _.bind((function(evt) {
	        var point;
	        if (this.isdraggable) {
	          if (evt.buttons !== 1) {
	            this.isdraggable = false;
	            return;
	          }
	          evt = evt.originalEvent;
	          point = this.paper.offsetToLocalPoint(evt.pageX, evt.pageY);
	          return this.model.set('position', {
	            x: this.dragpoint.client_x - this.dragpoint.paper_x + point.x,
	            y: this.dragpoint.client_y - this.dragpoint.paper_y + point.y
	          });
	        }
	      }), this));
	      $(window).on('mouseup', _.bind((function(e) {
	        return this.isdraggable = false;
	      }), this));
	      this.$box.find('.btn_close').on('click', _.bind(this.model.remove, this.model));
	      this.$box.find('[data-action]').on('click', this.dispatch(this));
	      this.model.on('change', this.updateBox, this);
	      this.model.on('remove', this.removeBox, this);
	      custom_shapes.push(this);
	      this.$box.find('.node_content').on('click', _.bind(this.startEditInPlace, this));
	      return this.$box.find('.node_head').on('dblclick', _.bind(this.showDetails, this));
	    },
	    dispatch: function(self) {
	      return function(evt) {
	        var custom_event;
	        custom_event = this.dataset.action;
	        Backbone.trigger(custom_event, self, evt);
	        return console.log("<" + custom_event + ">");
	      };
	    },
	    render: function() {
	      this.processPorts();
	      joint.dia.ElementView.prototype.render.apply(this, arguments);
	      if (this.isrendered === false) {
	        this.paper.$el.prepend(this.$box);
	      }
	      this.updateBox();
	      this.isrendered = true;
	      Backbone.trigger("ui:add", this);
	      console.log("<ui:add>");
	      return this;
	    },
	
	    /*    update: ->
	    
	            #// First render ports so that `attrs` can be applied to those newly created DOM elements
	            #// in `ElementView.prototype.update()`.
	            this.renderPorts()
	            joint.dia.ElementView.prototype.update.apply(this, arguments)
	    
	        renderPorts: ->
	    
	            $inPorts = @$('.inPorts').empty()
	            $outPorts = @$('.outPorts').empty()
	    
	            portTemplate = _.template(@model.portMarkup)
	    
	            _.each(_.filter(@model.ports, (p) -> return p.type is 'in'), (port, index) ->
	                $inPorts.append(V(portTemplate({ id: index, port: port })).node)
	            )
	            _.each(_.filter(@model.ports, (p) -> return p.type is 'out'), (port, index) ->
	                $outPorts.append(V(portTemplate({ id: index, port: port })).node);
	            )
	     */
	    processPorts: function() {
	      var pairs, rows;
	      this.$box.find('tbody tr').not(':first').remove();
	      pairs = _.zip(this.model.get('inPorts'), this.model.get('outPorts'));
	      rows = 1;
	      _.each(pairs, _.bind(function(pair) {
	        var ref, ref1;
	        this.$box.find('tbody tr:last td').first().replaceWith("<td class='node_in'>" + ((ref = pair[0]) != null ? ref : "") + "</td>");
	        $("<td class='ui node_out' data-content='fssdfsdfsdfs'>" + ((ref1 = pair[1]) != null ? ref1 : "") + "</td>").replaceAll(this.$box.find('tbody tr:last td').last()).popup({
	          position: 'right center'
	        });
	        this.$box.find('tbody tr:last').after('<tr><td class="node_empty"></td><td class="node_empty"></td></tr>');
	        return rows++;
	      }, this));
	      this.$box.find('.node_content').attr('rowspan', rows);
	      return this.$box.find('.node_empty').on('click', _.bind((function(evt) {
	        var ports, portsname;
	        if ($(evt.target).is(':last-child')) {
	          portsname = 'outPorts';
	        } else {
	          portsname = 'inPorts';
	        }
	        ports = this.model.get(portsname);
	        ports.push('newport' + Math.random().toPrecision(2));
	        this.model.set(portsname, ports);
	        this.model.updatePortsAttrs();
	        return this.render();
	      }), this));
	    },
	    showDetails: function(ev) {
	      var details_modal;
	      ev.stopPropagation();
	      return details_modal = new imports.views.DetailsView({
	        el: $("#modal_menu"),
	        model: this.model,
	        template: $("#modal_menu_template")
	      });
	    },
	    startEditInPlace: function() {
	      this.$box.find('.node_viewer').addClass('invisible');
	      this.$box.find('.node_coupled').css('width', parseInt(this.$box.find('.node_viewer').css('width')) + 6);
	      this.$box.find('.node_coupled').css('height', parseInt(this.$box.find('.node_viewer').css('height')) + 6);
	      this.$box.find('.node_editor').removeClass('invisible').find('.node_coupled').focus();
	      this.isedited = true;
	      this.$box.find('.node_editor').on('mousemove', function(evt) {
	        return evt.stopPropagation();
	      });
	      this.$box.find('.node_coupled').on('keydown', _.bind((function(evt) {
	        if (evt.keyCode === 27) {
	          this.isedited = false;
	          this.$box.find('.node_coupled').blur();
	        }
	        if (evt.keyCode === 13 && evt.ctrlKey === true) {
	          return this.$box.find('.node_coupled').blur();
	        }
	      }), this));
	      this.$box.find('.node_coupled').on('keyup', _.bind((function(evt) {
	        var newcontent, textarea, view;
	        textarea = this.$box.find('.node_coupled');
	        view = this.$box.find('.node_viewer');
	        newcontent = textarea.val();
	        view.html(newcontent);
	        textarea.css('width', parseInt(view.css('width')) + 6);
	        return textarea.css('height', parseInt(view.css('height')) + 6);
	      }), this));
	      this.$box.find('.node_coupled').on('mousewheel', _.bind((function(evt) {
	        return evt.stopPropagation();
	      }), this));
	      return this.$box.find('.node_coupled').on('blur', _.bind((function(evt) {
	        var newcontent, textarea, view;
	        textarea = this.$box.find('.node_coupled');
	        view = this.$box.find('.node_viewer');
	        newcontent = textarea.val();
	        if (this.isedited === true) {
	          this.model.set('content', newcontent);
	          view.html(newcontent);
	        }
	        this.isedited = false;
	        this.$box.find('.node_editor').addClass('invisible');
	        this.$box.find('.node_viewer').removeClass('invisible');
	        return this.updateBox();
	      }), this));
	    },
	    updateBox: function() {
	      var bbox, height0, height1, height2, heightall, ref, scale, x, y;
	      bbox = this.model.getBBox();
	      ref = this.paper.getRealCoords(bbox.x, bbox.y), x = ref.x, y = ref.y;
	      bbox.x = x;
	      bbox.y = y;
	      scale = this.paper.current_scale;
	      this.$box.find('label').text(this.model.get('label'));
	      this.$box.find('span').text(this.model.get('select'));
	      this.$box.find('.node_viewer').html(this.model.get('content'));
	      if (this.isedited === false) {
	        this.$box.find('.node_coupled').val(this.model.get('content'));
	      }
	      this.$box.find('.content_footing').html(this.model.get('footing_content'));
	      this.$box.css('transform-origin', 'left top');
	      this.$box.css({
	        left: bbox.x,
	        top: bbox.y,
	        transform: 'rotate(' + (this.model.get('angle') || 0) + 'deg) scale(' + scale + ')'
	      });
	      height0 = parseInt(this.$box.find('thead').css('height'));
	      height1 = parseInt(this.$box.find('tbody').css('height'));
	      height2 = parseInt(this.$box.find('tbody tr').last().css('height'));
	      heightall = height0 + height1 - height2;
	      this.model.set('size', {
	        width: parseInt(this.$box.css('width')),
	        height: heightall
	      });
	      return hljs.highlightBlock(this.$box.find('.node_viewer')[0]);
	    },
	    removeBox: function(evt) {
	      return this.$box.remove();
	    }
	  }));
	
	  Link = (function(superClass) {
	    extend(Link, superClass);
	
	    function Link() {
	      return Link.__super__.constructor.apply(this, arguments);
	    }
	
	    Link.prototype.defaults = {
	      smooth: true,
	      type: 'html.Link',
	      attrs: {
	        '.connection': {
	          'stroke-width': 4,
	          stroke: '#a0a0a9'
	        }
	      }
	    };
	
	    return Link;
	
	  })(joint.dia.Link);
	
	  module.exports = {
	    NodeView: NodeView,
	    Link: Link
	  };
	
	}).call(this);
	
	//# sourceMappingURL=nodeview.js.map


/***/ },
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	var MetaGraph, imports,
	  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
	  hasProp = {}.hasOwnProperty,
	  slice = [].slice;
	
	imports = __webpack_require__(1);
	
	MetaGraph = (function(superClass) {
	  extend(MetaGraph, superClass);
	
	  function MetaGraph() {
	    return MetaGraph.__super__.constructor.apply(this, arguments);
	  }
	
	  MetaGraph.prototype.initialize = function(attrs, data) {
	    var cells, elems_list, links, links_list;
	    this.metabook = data;
	    this.constructor.__super__.initialize.apply(this, arguments);
	    elems_list = [];
	    links_list = [];
	    cells = this.metabook.get("cells");
	    links = this.metabook.get("links");
	    cells.each(function(cell_model) {
	      var content, id, node, position, source;
	      source = cell_model.get('source');
	      id = cell_model.id;
	      if (typeof source !== "string") {
	        content = source.join("");
	      } else {
	        content = source;
	      }
	      position = cell_model.get('position');
	      node = new joint.shapes.html.Node({
	        id: id,
	        position: {
	          x: position.x,
	          y: position.y
	        },
	        content: content,
	        footing_content: "[ipynb cell]",
	        node_markup: {
	          node_viewer: '<div class="node_viewer python" data-metabook="true"></div>',
	          node_editor: '<span class="ui form node_editor"><textarea class="node_coupled"></textarea></span>'
	        },
	        dimensions: {
	          'min-height': 100,
	          'max-height': 200,
	          'min-width': 250,
	          'max-width': 500
	        },
	        inPorts: cell_model.get('inPorts'),
	        outPorts: cell_model.get('outPorts')
	      }, {
	        cell_model: cell_model
	      });
	      return elems_list.push(node);
	    });
	    links.each(function(link_model) {
	      var link;
	      link = new joint.shapes.html.Link({
	        source: link_model.get('source'),
	        target: link_model.get('target'),
	        id: link_model.get('id')
	      });
	      return links_list.push(link);
	    });
	    return graph.addCells(slice.call(elems_list).concat(slice.call(links_list)));
	  };
	
	  MetaGraph.prototype.custom_events = {
	    "node": imports.ui.Vent.passover,
	    "newnode": function(ev) {
	      return console.log("<graph:newnode>");
	    }
	  };
	
	  return MetaGraph;
	
	})(joint.dia.Graph);
	
	module.exports = MetaGraph;
	
	//# sourceMappingURL=graph.js.map


/***/ },
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */,
/* 31 */,
/* 32 */,
/* 33 */
/***/ function(module, exports, __webpack_require__) {

	// Generated by CoffeeScript 1.10.0
	var GraphPaper, Settings;
	
	Settings = __webpack_require__(2);
	
	GraphPaper = joint.dia.Paper.extend({
	  origin: {
	    x: 0,
	    y: 0
	  },
	  current_scale: 1,
	  draggable: false,
	  dragpoint: {
	    x: 0,
	    y: 0,
	    offset_x: 0,
	    offset_y: 0
	  },
	  initialize: function() {
	    joint.dia.Paper.prototype.initialize.apply(this, arguments);
	    _.bindAll(this, 'offsetToLocalPoint', 'updateOrigin', 'updateScale', 'getRealCoords');
	    this.updateOrigin();
	    this.updateScale();
	    $(window).resize(_.bind((function() {
	      return this.setDimensions(this.$el.width(), this.$el.height());
	    }), this));
	    this.on('cell:pointerdown cell:mouseover', function(cellView, evt, x, y) {
	      if ($(evt.target).parent().hasClass("link")) {
	        return cellView.options.interactive = false;
	      }
	    });
	    this.on('all', function(evt, x, y) {
	      return console.log(evt);
	    });
	    this.$el.on('mousedown', _.bind((function(evt, x, y) {
	      evt = evt.originalEvent;
	      if (evt.which !== 2) {
	        return;
	      }
	      evt.preventDefault();
	      this.dragpoint.x = evt.pageX;
	      this.dragpoint.y = evt.pageY;
	      this.dragpoint.offset_x = this.origin.x * this.current_scale;
	      this.dragpoint.offset_y = this.origin.y * this.current_scale;
	      return this.draggable = true;
	    }), this));
	    this.$el.on("mousewheel", _.bind((function(ev) {
	      var coord1, coord2, delta, elem, i, len, newScale, p, results;
	      ev.preventDefault();
	      ev = ev.originalEvent;
	      coord1 = $(ev.target).offset().left + ev.offsetX - this.$el.offset().left;
	      coord2 = $(ev.target).offset().top + ev.offsetY - this.$el.offset().top;
	      delta = 1.2;
	      p = this.offsetToLocalPoint(coord1, coord2);
	      if (ev.wheelDelta < 0) {
	        newScale = this.current_scale / delta;
	      } else {
	        newScale = this.current_scale * delta;
	      }
	      if (newScale > 0.1 && newScale < 10) {
	        this.scale(newScale, newScale);
	        this.setOrigin(coord1 - newScale * p.x, coord2 - newScale * p.y);
	        this.updateScale();
	        this.updateOrigin();
	        results = [];
	        for (i = 0, len = custom_shapes.length; i < len; i++) {
	          elem = custom_shapes[i];
	          results.push(elem.updateBox());
	        }
	        return results;
	      }
	    }), this));
	    this.$el.on("mousemove", _.bind((function(e) {
	      var elem, i, len, results;
	      if (this.draggable) {
	        this.setOrigin(-this.dragpoint.offset_x + e.pageX - this.dragpoint.x, -this.dragpoint.offset_y + e.pageY - this.dragpoint.y);
	        this.updateOrigin();
	        results = [];
	        for (i = 0, len = custom_shapes.length; i < len; i++) {
	          elem = custom_shapes[i];
	          results.push(elem.updateBox());
	        }
	        return results;
	      }
	    }), this));
	    $(window).on('mouseup', function(e) {
	      return this.draggable = false;
	    });
	    return this.on('blank:pointerup', function(cellView, event) {
	      return this.draggable = false;
	    });
	  },
	  offsetToLocalPoint: function(offsetX, offsetY) {
	    var svgPoint;
	    svgPoint = this.svg.createSVGPoint();
	    svgPoint.x = offsetX;
	    svgPoint.y = offsetY;
	    return svgPoint.matrixTransform(this.viewport.getCTM().inverse());
	  },
	  updateScale: function() {
	    return this.current_scale = V(this.viewport).scale().sx;
	  },
	  updateOrigin: function() {
	    return this.origin = this.svg.createSVGPoint().matrixTransform(this.viewport.getCTM().inverse());
	  },
	  getRealCoords: function(modelX, modelY) {
	    var offset, x, y;
	    offset = this.origin;
	    x = (modelX - offset.x) * this.current_scale;
	    y = (modelY - offset.y) * this.current_scale;
	    $(Settings.id.coords).text(modelX + ":" + modelY + "/" + x + ":" + y);
	    return {
	      x: x,
	      y: y
	    };
	  },
	  getModelCoords: function(pageX, pageY) {
	    var offset, x, y;
	    offset = this.origin;
	    x = pageX / this.current_scale + offset.x;
	    y = pageY / this.current_scale + offset.y;
	    return {
	      x: x,
	      y: y
	    };
	  }
	});
	
	module.exports = GraphPaper;
	
	//# sourceMappingURL=paper.js.map


/***/ }
/******/ ]);
//# sourceMappingURL=metabook.js.map